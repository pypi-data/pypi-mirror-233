# Build system backend to create package to upload on pypi
[build-system]
build-backend = "setuptools.build_meta"
requires = [
    "setuptools>=68",
    "setuptools_scm[toml]>=8"
]

# configuration of setuptools_scm to use tag version autoincrementation
[tool.setuptools_scm]
write_to = "snakecdysis/_version.py"
version_scheme = "release-branch-semver"
tag_regex = "^(\\d.\\d.\\d)-*\\w*\\d*$"
local_scheme = "no-local-version"

# define Project settings
[project]
name = "snakecdysis"
dynamic = ["version"]
description = "You want to wrap your best snakemake workflow to be easy install and run, Snakecdysis is for you !!!!! Tha aim of Snakecdysis is to easy-wrapped snakemake workflow as python package and then build sub-commands to manage this. !!!!!"
authors = [
    { name = "Ravel Sebastien (CIRAD)", email = "sebastien.ravel@cirad.fr" },
]
dependencies = ["PyYAML", "click>=8.0.3", "cookiecutter", "docutils", "python-gitlab", "snakemake", "tqdm"]
requires-python = ">=3.8"
readme = "README.rst"
license = { file = "LICENSE" }
keywords = ["snakemake", "wrapper", "installation", "HPC"]
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Intended Audience :: Developers",
    "Intended Audience :: End Users/Desktop",
    "License :: CeCILL-C Free Software License Agreement (CECILL-C)",
    "License :: Free for non-commercial use",
    "License :: OSI Approved :: MIT License",
    "Natural Language :: English",
    "Operating System :: POSIX :: Linux",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Topic :: Scientific/Engineering",
    "Topic :: Scientific/Engineering :: Bio-Informatics",
]

[project.urls]
Homepage = "https://forge.ird.fr/phim/sravel/snakecdysis"
Downloads = "https://forge.ird.fr/phim/sravel/snakecdysis/archive/"
"Bug Tracker" = "https://forge.ird.fr/phim/sravel/snakecdysis/issues"
Documentation = "https://snakecdysis.readthedocs.io/en/latest/"
"Source Code" = "https://forge.ird.fr/phim/sravel/snakecdysis"

[project.optional-dependencies]
dev = [
    "sphinx_click",
    "sphinx_copybutton",
    "sphinx_rtd_theme",
]

# setup scripts links
[project.scripts]
generate_template = "snakecdysis.scripts.generate_template:main"

[project.entry-points.snakecdysis]
snakecdysis = "__init__"

# Try to link sphinx to file
[tool.sphinx]
source-dir = "docs/source"
build-dir = "docs/build"
config-dir = "docs/source"