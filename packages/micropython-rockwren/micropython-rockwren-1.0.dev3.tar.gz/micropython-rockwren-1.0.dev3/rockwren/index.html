<!doctypehtml><title>Rockwren</title><link href=/favicon.svg rel=icon type=image/svg+xml><meta content=width=device-width,initial-scale=1 name=viewport><style>{{render_template(web_path + "/style.css")}}</style><script>refreshRate=2500;var updateTimer;var deviceState;var updateCallback;function registerUpdateCallback(a){updateCallback=a}function deviceControl(a,b,c){clearTimeout(updateTimer);const d=new XMLHttpRequest();if(b){d.open("POST","/device/control",true)}else{d.open("GET","/device/state",true)};d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.onreadystatechange=()=>{if(d.readyState===XMLHttpRequest.DONE&&d.status===200){deviceState=JSON.parse(d.responseText);console.log(deviceState);if(deviceState.state){state=document.getElementById("device-state");state.innerHTML=deviceState.state;if(deviceState.state=="ON"){state.style.color="#008000"}else{state.style.color="#FF0000"}};if(updateCallback){updateCallback()}};if(a){document.getElementById(a).disabled=false};clearTimeout(updateTimer);updateTimer=setTimeout(deviceControl,refreshRate)};payload='';if(b){payload=b+ "="+ c};d.send(payload);if(a){document.getElementById(a).disabled=true}}window.addEventListener('load',deviceControl())</script><body><h1>Rockwren</h1><h2>{{device.name}}</h2> {{"<p>No controls available</p>" if not device.template else render_template(device.template,device=device)}} <div class=line></div><table class=center><p><button class=button onclick=window.location.href='/wifi_config';>WiFi Configuration</button><p><button class=button onclick=window.location.href='/mqtt_config';>MQTT Configuration</button><p><button class=button onclick=window.location.href='/viewlogs';>View Logs</button><p><button class=button onclick=window.location.href='/information';>Device Information</button></table>