/*! For license information please see 941.ba1f0df21c5a109c75ca.js.LICENSE.txt */
(self.webpackChunkjupyterlab_broccoli_turtle=self.webpackChunkjupyterlab_broccoli_turtle||[]).push([[941],{3941:function(e,t,n){var r,o,a;o=[n(2885),n(1033)],void 0===(a="function"==typeof(r=function(e,t){return t})?r.apply(t,o):r)||(e.exports=a)},1033:function(e,t,n){var r,o,a;o=[n(2939)],void 0===(a="function"==typeof(r=function(e){var t=e.__namespace__,n={};t.module$build$src$core$utils$string,t.module$build$src$core$variables,t.CodeGenerator$$module$build$src$core$generator,t.module$build$src$core$input_types.inputTypes,t.module$build$src$core$names.Names,t.NameType$$module$build$src$core$names,n.pythonGenerator=new t.CodeGenerator$$module$build$src$core$generator("Python"),n.pythonGenerator.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip"),n.pythonGenerator.ORDER_ATOMIC=0,n.pythonGenerator.ORDER_COLLECTION=1,n.pythonGenerator.ORDER_STRING_CONVERSION=1,n.pythonGenerator.ORDER_MEMBER=2.1,n.pythonGenerator.ORDER_FUNCTION_CALL=2.2,n.pythonGenerator.ORDER_EXPONENTIATION=3,n.pythonGenerator.ORDER_UNARY_SIGN=4,n.pythonGenerator.ORDER_BITWISE_NOT=4,n.pythonGenerator.ORDER_MULTIPLICATIVE=5,n.pythonGenerator.ORDER_ADDITIVE=6,n.pythonGenerator.ORDER_BITWISE_SHIFT=7,n.pythonGenerator.ORDER_BITWISE_AND=8,n.pythonGenerator.ORDER_BITWISE_XOR=9,n.pythonGenerator.ORDER_BITWISE_OR=10,n.pythonGenerator.ORDER_RELATIONAL=11,n.pythonGenerator.ORDER_LOGICAL_NOT=12,n.pythonGenerator.ORDER_LOGICAL_AND=13,n.pythonGenerator.ORDER_LOGICAL_OR=14,n.pythonGenerator.ORDER_CONDITIONAL=15,n.pythonGenerator.ORDER_LAMBDA=16,n.pythonGenerator.ORDER_NONE=99,n.pythonGenerator.ORDER_OVERRIDES=[[n.pythonGenerator.ORDER_FUNCTION_CALL,n.pythonGenerator.ORDER_MEMBER],[n.pythonGenerator.ORDER_FUNCTION_CALL,n.pythonGenerator.ORDER_FUNCTION_CALL],[n.pythonGenerator.ORDER_MEMBER,n.pythonGenerator.ORDER_MEMBER],[n.pythonGenerator.ORDER_MEMBER,n.pythonGenerator.ORDER_FUNCTION_CALL],[n.pythonGenerator.ORDER_LOGICAL_NOT,n.pythonGenerator.ORDER_LOGICAL_NOT],[n.pythonGenerator.ORDER_LOGICAL_AND,n.pythonGenerator.ORDER_LOGICAL_AND],[n.pythonGenerator.ORDER_LOGICAL_OR,n.pythonGenerator.ORDER_LOGICAL_OR]],n.pythonGenerator.isInitialized=!1,n.pythonGenerator.init=function(e){Object.getPrototypeOf(this).init.call(this),this.PASS=this.INDENT+"pass\n",this.nameDB_?this.nameDB_.reset():this.nameDB_=new t.module$build$src$core$names.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);const n=[];var r=t.module$build$src$core$variables.allDeveloperVariables(e);for(let e=0;e<r.length;e++)n.push(this.nameDB_.getName(r[e],t.module$build$src$core$names.Names.DEVELOPER_VARIABLE_TYPE)+" = None");for(e=t.module$build$src$core$variables.allUsedVarModels(e),r=0;r<e.length;r++)n.push(this.nameDB_.getName(e[r].getId(),t.NameType$$module$build$src$core$names.VARIABLE)+" = None");this.definitions_.variables=n.join("\n"),this.isInitialized=!0},n.pythonGenerator.finish=function(e){const t=[],n=[];for(let e in this.definitions_){const r=this.definitions_[e];r.match(/^(from\s+\S+\s+)?import\s+\S+/)?t.push(r):n.push(r)}return e=Object.getPrototypeOf(this).finish.call(this,e),this.isInitialized=!1,this.nameDB_.reset(),(t.join("\n")+"\n\n"+n.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+e},n.pythonGenerator.scrubNakedValue=function(e){return e+"\n"},n.pythonGenerator.quote_=function(e){let t="'";return-1!==(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n")).indexOf("'")&&(-1===e.indexOf('"')?t='"':e=e.replace(/'/g,"\\'")),t+e+t},n.pythonGenerator.multiline_quote_=function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' + \n")},n.pythonGenerator.scrub_=function(e,n,r){let o="";if(!e.outputConnection||!e.outputConnection.targetConnection){var a=e.getCommentText();a&&(a=t.module$build$src$core$utils$string.wrap(a,this.COMMENT_WRAP-3),o+=this.prefixLines(a+"\n","# "));for(let n=0;n<e.inputList.length;n++)e.inputList[n].type===t.module$build$src$core$input_types.inputTypes.VALUE&&(a=e.inputList[n].connection.targetBlock())&&(a=this.allNestedComments(a))&&(o+=this.prefixLines(a,"# "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),o+n+(r?"":this.blockToCode(e))},n.pythonGenerator.getAdjustedInt=function(e,n,r,o){r=r||0,e.workspace.options.oneBasedIndex&&r--;const a=e.workspace.options.oneBasedIndex?"1":"0";return e=this.valueToCode(e,n,r?this.ORDER_ADDITIVE:this.ORDER_NONE)||a,t.module$build$src$core$utils$string.isNumber(e)?(e=parseInt(e,10)+r,o&&(e=-e)):(e=0<r?"int("+e+" + "+r+")":0>r?"int("+e+" - "+-r+")":"int("+e+")",o&&(e="-"+e)),e},n.pythonGenerator.colour_picker=function(e){return[n.pythonGenerator.quote_(e.getFieldValue("COLOUR")),n.pythonGenerator.ORDER_ATOMIC]},n.pythonGenerator.colour_random=function(e){return n.pythonGenerator.definitions_.import_random="import random",["'#%06x' % random.randint(0, 2**24 - 1)",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.colour_rgb=function(e){return[n.pythonGenerator.provideFunction_("colour_rgb",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(r, g, b):\n  r = round(min(100, max(0, r)) * 2.55)\n  g = round(min(100, max(0, g)) * 2.55)\n  b = round(min(100, max(0, b)) * 2.55)\n  return '#%02x%02x%02x' % (r, g, b)\n`)+"("+(n.pythonGenerator.valueToCode(e,"RED",n.pythonGenerator.ORDER_NONE)||0)+", "+(n.pythonGenerator.valueToCode(e,"GREEN",n.pythonGenerator.ORDER_NONE)||0)+", "+(e=n.pythonGenerator.valueToCode(e,"BLUE",n.pythonGenerator.ORDER_NONE)||0)+")",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.colour_blend=function(e){return[n.pythonGenerator.provideFunction_("colour_blend",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(colour1, colour2, ratio):\n  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)\n  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)\n  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)\n  ratio = min(1, max(0, ratio))\n  r = round(r1 * (1 - ratio) + r2 * ratio)\n  g = round(g1 * (1 - ratio) + g2 * ratio)\n  b = round(b1 * (1 - ratio) + b2 * ratio)\n  return '#%02x%02x%02x' % (r, g, b)\n`)+"("+(n.pythonGenerator.valueToCode(e,"COLOUR1",n.pythonGenerator.ORDER_NONE)||"'#000000'")+", "+(n.pythonGenerator.valueToCode(e,"COLOUR2",n.pythonGenerator.ORDER_NONE)||"'#000000'")+", "+(e=n.pythonGenerator.valueToCode(e,"RATIO",n.pythonGenerator.ORDER_NONE)||0)+")",n.pythonGenerator.ORDER_FUNCTION_CALL]},t.module$build$src$core$utils$string,t.NameType$$module$build$src$core$names,n.pythonGenerator.lists_create_empty=function(e){return["[]",n.pythonGenerator.ORDER_ATOMIC]},n.pythonGenerator.lists_create_with=function(e){const t=Array(e.itemCount_);for(let r=0;r<e.itemCount_;r++)t[r]=n.pythonGenerator.valueToCode(e,"ADD"+r,n.pythonGenerator.ORDER_NONE)||"None";return["["+t.join(", ")+"]",n.pythonGenerator.ORDER_ATOMIC]},n.pythonGenerator.lists_repeat=function(e){return["["+(n.pythonGenerator.valueToCode(e,"ITEM",n.pythonGenerator.ORDER_NONE)||"None")+"] * "+(e=n.pythonGenerator.valueToCode(e,"NUM",n.pythonGenerator.ORDER_MULTIPLICATIVE)||"0"),n.pythonGenerator.ORDER_MULTIPLICATIVE]},n.pythonGenerator.lists_length=function(e){return["len("+(n.pythonGenerator.valueToCode(e,"VALUE",n.pythonGenerator.ORDER_NONE)||"[]")+")",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.lists_isEmpty=function(e){return["not len("+(n.pythonGenerator.valueToCode(e,"VALUE",n.pythonGenerator.ORDER_NONE)||"[]")+")",n.pythonGenerator.ORDER_LOGICAL_NOT]},n.pythonGenerator.lists_indexOf=function(e){const t=n.pythonGenerator.valueToCode(e,"FIND",n.pythonGenerator.ORDER_NONE)||"[]",r=n.pythonGenerator.valueToCode(e,"VALUE",n.pythonGenerator.ORDER_NONE)||"''";let o=" -1",a="",i=" - 1";return e.workspace.options.oneBasedIndex&&(o=" 0",a=" + 1",i=""),[("FIRST"===e.getFieldValue("END")?n.pythonGenerator.provideFunction_("first_index",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):\n  try: index = my_list.index(elem)${a}\n  except: index =${o}\n  return index\n`):n.pythonGenerator.provideFunction_("last_index",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):\n  try: index = len(my_list) - my_list[::-1].index(elem)${i}\n  except: index =${o}\n  return index\n`))+"("+r+", "+t+")",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.lists_getIndex=function(e){const t=e.getFieldValue("MODE")||"GET",r=e.getFieldValue("WHERE")||"FROM_START";var o=n.pythonGenerator.valueToCode(e,"VALUE","RANDOM"===r?n.pythonGenerator.ORDER_NONE:n.pythonGenerator.ORDER_MEMBER)||"[]";switch(r){case"FIRST":if("GET"===t)return[o+"[0]",n.pythonGenerator.ORDER_MEMBER];if("GET_REMOVE"===t)return[o+".pop(0)",n.pythonGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+".pop(0)\n";break;case"LAST":if("GET"===t)return[o+"[-1]",n.pythonGenerator.ORDER_MEMBER];if("GET_REMOVE"===t)return[o+".pop()",n.pythonGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+".pop()\n";break;case"FROM_START":if(e=n.pythonGenerator.getAdjustedInt(e,"AT"),"GET"===t)return[o+"["+e+"]",n.pythonGenerator.ORDER_MEMBER];if("GET_REMOVE"===t)return[o+".pop("+e+")",n.pythonGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+".pop("+e+")\n";break;case"FROM_END":if(e=n.pythonGenerator.getAdjustedInt(e,"AT",1,!0),"GET"===t)return[o+"["+e+"]",n.pythonGenerator.ORDER_MEMBER];if("GET_REMOVE"===t)return[o+".pop("+e+")",n.pythonGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+".pop("+e+")\n";break;case"RANDOM":if(n.pythonGenerator.definitions_.import_random="import random","GET"===t)return["random.choice("+o+")",n.pythonGenerator.ORDER_FUNCTION_CALL];if(o=n.pythonGenerator.provideFunction_("lists_remove_random_item",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(myList):\n  x = int(random.random() * len(myList))\n  return myList.pop(x)\n`)+"("+o+")","GET_REMOVE"===t)return[o,n.pythonGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+"\n"}throw Error("Unhandled combination (lists_getIndex).")},n.pythonGenerator.lists_setIndex=function(e){let r=n.pythonGenerator.valueToCode(e,"LIST",n.pythonGenerator.ORDER_MEMBER)||"[]";const o=e.getFieldValue("MODE")||"GET";var a=e.getFieldValue("WHERE")||"FROM_START";const i=n.pythonGenerator.valueToCode(e,"TO",n.pythonGenerator.ORDER_NONE)||"None";switch(a){case"FIRST":if("SET"===o)return r+"[0] = "+i+"\n";if("INSERT"===o)return r+".insert(0, "+i+")\n";break;case"LAST":if("SET"===o)return r+"[-1] = "+i+"\n";if("INSERT"===o)return r+".append("+i+")\n";break;case"FROM_START":if(e=n.pythonGenerator.getAdjustedInt(e,"AT"),"SET"===o)return r+"["+e+"] = "+i+"\n";if("INSERT"===o)return r+".insert("+e+", "+i+")\n";break;case"FROM_END":if(e=n.pythonGenerator.getAdjustedInt(e,"AT",1,!0),"SET"===o)return r+"["+e+"] = "+i+"\n";if("INSERT"===o)return r+".insert("+e+", "+i+")\n";break;case"RANDOM":if(n.pythonGenerator.definitions_.import_random="import random",r.match(/^\w+$/)?e="":(a=(e=n.pythonGenerator.nameDB_.getDistinctName("tmp_list",t.NameType$$module$build$src$core$names.VARIABLE))+" = "+r+"\n",r=e,e=a),e+=(a=n.pythonGenerator.nameDB_.getDistinctName("tmp_x",t.NameType$$module$build$src$core$names.VARIABLE))+" = int(random.random() * len("+r+"))\n","SET"===o)return e+(r+"[")+a+"] = "+i+"\n";if("INSERT"===o)return e+(r+".insert(")+a+", "+i+")\n"}throw Error("Unhandled combination (lists_setIndex).")},n.pythonGenerator.lists_getSublist=function(e){const r=n.pythonGenerator.valueToCode(e,"LIST",n.pythonGenerator.ORDER_MEMBER)||"[]";var o=e.getFieldValue("WHERE1");const a=e.getFieldValue("WHERE2");switch(o){case"FROM_START":0===(o=n.pythonGenerator.getAdjustedInt(e,"AT1"))&&(o="");break;case"FROM_END":o=n.pythonGenerator.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":o="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(a){case"FROM_START":e=n.pythonGenerator.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=n.pythonGenerator.getAdjustedInt(e,"AT2",0,!0),t.module$build$src$core$utils$string.isNumber(String(e))?0===e&&(e=""):(n.pythonGenerator.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[r+"["+o+" : "+e+"]",n.pythonGenerator.ORDER_MEMBER]},n.pythonGenerator.lists_sort=function(e){const t=n.pythonGenerator.valueToCode(e,"LIST",n.pythonGenerator.ORDER_NONE)||"[]",r=e.getFieldValue("TYPE");return e="1"===e.getFieldValue("DIRECTION")?"False":"True",[n.pythonGenerator.provideFunction_("lists_sort",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):\n  def try_float(s):\n    try:\n      return float(s)\n    except:\n      return 0\n  key_funcs = {\n    "NUMERIC": try_float,\n    "TEXT": str,\n    "IGNORE_CASE": lambda s: str(s).lower()\n  }\n  key_func = key_funcs[type]\n  list_cpy = list(my_list)\n  return sorted(list_cpy, key=key_func, reverse=reverse)\n`)+"("+t+', "'+r+'", '+e+")",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.lists_split=function(e){var t=e.getFieldValue("MODE");if("SPLIT"===t)e=(t=n.pythonGenerator.valueToCode(e,"INPUT",n.pythonGenerator.ORDER_MEMBER)||"''")+".split("+(e=n.pythonGenerator.valueToCode(e,"DELIM",n.pythonGenerator.ORDER_NONE))+")";else{if("JOIN"!==t)throw Error("Unknown mode: "+t);t=n.pythonGenerator.valueToCode(e,"INPUT",n.pythonGenerator.ORDER_NONE)||"[]",e=(n.pythonGenerator.valueToCode(e,"DELIM",n.pythonGenerator.ORDER_MEMBER)||"''")+".join("+t+")"}return[e,n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.lists_reverse=function(e){return["list(reversed("+(n.pythonGenerator.valueToCode(e,"LIST",n.pythonGenerator.ORDER_NONE)||"[]")+"))",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.controls_if=function(e){let t,r,o=0,a="";n.pythonGenerator.STATEMENT_PREFIX&&(a+=n.pythonGenerator.injectId(n.pythonGenerator.STATEMENT_PREFIX,e));do{r=n.pythonGenerator.valueToCode(e,"IF"+o,n.pythonGenerator.ORDER_NONE)||"False",t=n.pythonGenerator.statementToCode(e,"DO"+o)||n.pythonGenerator.PASS,n.pythonGenerator.STATEMENT_SUFFIX&&(t=n.pythonGenerator.prefixLines(n.pythonGenerator.injectId(n.pythonGenerator.STATEMENT_SUFFIX,e),n.pythonGenerator.INDENT)+t),a+=(0===o?"if ":"elif ")+r+":\n"+t,o++}while(e.getInput("IF"+o));return(e.getInput("ELSE")||n.pythonGenerator.STATEMENT_SUFFIX)&&(t=n.pythonGenerator.statementToCode(e,"ELSE")||n.pythonGenerator.PASS,n.pythonGenerator.STATEMENT_SUFFIX&&(t=n.pythonGenerator.prefixLines(n.pythonGenerator.injectId(n.pythonGenerator.STATEMENT_SUFFIX,e),n.pythonGenerator.INDENT)+t),a+="else:\n"+t),a},n.pythonGenerator.controls_ifelse=n.pythonGenerator.controls_if,n.pythonGenerator.logic_compare=function(e){const t={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],r=n.pythonGenerator.ORDER_RELATIONAL;return[(n.pythonGenerator.valueToCode(e,"A",r)||"0")+" "+t+" "+(e=n.pythonGenerator.valueToCode(e,"B",r)||"0"),r]},n.pythonGenerator.logic_operation=function(e){const t="AND"===e.getFieldValue("OP")?"and":"or",r="and"===t?n.pythonGenerator.ORDER_LOGICAL_AND:n.pythonGenerator.ORDER_LOGICAL_OR;let o=n.pythonGenerator.valueToCode(e,"A",r);if(e=n.pythonGenerator.valueToCode(e,"B",r),o||e){const n="and"===t?"True":"False";o||(o=n),e||(e=n)}else e=o="False";return[o+" "+t+" "+e,r]},n.pythonGenerator.logic_negate=function(e){return["not "+(n.pythonGenerator.valueToCode(e,"BOOL",n.pythonGenerator.ORDER_LOGICAL_NOT)||"True"),n.pythonGenerator.ORDER_LOGICAL_NOT]},n.pythonGenerator.logic_boolean=function(e){return["TRUE"===e.getFieldValue("BOOL")?"True":"False",n.pythonGenerator.ORDER_ATOMIC]},n.pythonGenerator.logic_null=function(e){return["None",n.pythonGenerator.ORDER_ATOMIC]},n.pythonGenerator.logic_ternary=function(e){const t=n.pythonGenerator.valueToCode(e,"IF",n.pythonGenerator.ORDER_CONDITIONAL)||"False";return[(n.pythonGenerator.valueToCode(e,"THEN",n.pythonGenerator.ORDER_CONDITIONAL)||"None")+" if "+t+" else "+(e=n.pythonGenerator.valueToCode(e,"ELSE",n.pythonGenerator.ORDER_CONDITIONAL)||"None"),n.pythonGenerator.ORDER_CONDITIONAL]},t.module$build$src$core$utils$string,t.NameType$$module$build$src$core$names,n.pythonGenerator.controls_repeat_ext=function(e){let r;r=e.getField("TIMES")?String(parseInt(e.getFieldValue("TIMES"),10)):n.pythonGenerator.valueToCode(e,"TIMES",n.pythonGenerator.ORDER_NONE)||"0",r=t.module$build$src$core$utils$string.isNumber(r)?parseInt(r,10):"int("+r+")";let o=n.pythonGenerator.statementToCode(e,"DO");return o=n.pythonGenerator.addLoopTrap(o,e)||n.pythonGenerator.PASS,"for "+n.pythonGenerator.nameDB_.getDistinctName("count",t.NameType$$module$build$src$core$names.VARIABLE)+" in range("+r+"):\n"+o},n.pythonGenerator.controls_repeat=n.pythonGenerator.controls_repeat_ext,n.pythonGenerator.controls_whileUntil=function(e){const t="UNTIL"===e.getFieldValue("MODE");let r=n.pythonGenerator.valueToCode(e,"BOOL",t?n.pythonGenerator.ORDER_LOGICAL_NOT:n.pythonGenerator.ORDER_NONE)||"False",o=n.pythonGenerator.statementToCode(e,"DO");return o=n.pythonGenerator.addLoopTrap(o,e)||n.pythonGenerator.PASS,t&&(r="not "+r),"while "+r+":\n"+o},n.pythonGenerator.controls_for=function(e){const r=n.pythonGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE);var o=n.pythonGenerator.valueToCode(e,"FROM",n.pythonGenerator.ORDER_NONE)||"0",a=n.pythonGenerator.valueToCode(e,"TO",n.pythonGenerator.ORDER_NONE)||"0",i=n.pythonGenerator.valueToCode(e,"BY",n.pythonGenerator.ORDER_NONE)||"1";let p=n.pythonGenerator.statementToCode(e,"DO");p=n.pythonGenerator.addLoopTrap(p,e)||n.pythonGenerator.PASS;let E="";const s=function(){return n.pythonGenerator.provideFunction_("upRange",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):\n  while start <= stop:\n    yield start\n    start += abs(step)\n`)},u=function(){return n.pythonGenerator.provideFunction_("downRange",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):\n  while start >= stop:\n    yield start\n    start -= abs(step)\n`)};if(e=function(e,t,n){return"("+e+" <= "+t+") and "+s()+"("+e+", "+t+", "+n+") or "+u()+"("+e+", "+t+", "+n+")"},t.module$build$src$core$utils$string.isNumber(o)&&t.module$build$src$core$utils$string.isNumber(a)&&t.module$build$src$core$utils$string.isNumber(i))o=Number(o),a=Number(a),i=Math.abs(Number(i)),0==o%1&&0==a%1&&0==i%1?(o<=a?(a++,e=0===o&&1===i?a:o+", "+a,1!==i&&(e+=", "+i)):e=o+", "+--a+", -"+i,e="range("+e+")"):(e=o<a?s():u(),e+="("+o+", "+a+", "+i+")");else{const p=function(e,o){return t.module$build$src$core$utils$string.isNumber(e)?e=Number(e):e.match(/^\w+$/)||(o=n.pythonGenerator.nameDB_.getDistinctName(r+o,t.NameType$$module$build$src$core$names.VARIABLE),E+=o+" = "+e+"\n",e=o),e};o=p(o,"_start"),a=p(a,"_end"),i=p(i,"_inc"),"number"==typeof o&&"number"==typeof a?(e=o<a?s():u(),e+="("+o+", "+a+", "+i+")"):e=e(o,a,i)}return E+="for "+r+" in "+e+":\n"+p},n.pythonGenerator.controls_forEach=function(e){const r=n.pythonGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE),o=n.pythonGenerator.valueToCode(e,"LIST",n.pythonGenerator.ORDER_RELATIONAL)||"[]";let a=n.pythonGenerator.statementToCode(e,"DO");return a=n.pythonGenerator.addLoopTrap(a,e)||n.pythonGenerator.PASS,"for "+r+" in "+o+":\n"+a},n.pythonGenerator.controls_flow_statements=function(e){let t="";if(n.pythonGenerator.STATEMENT_PREFIX&&(t+=n.pythonGenerator.injectId(n.pythonGenerator.STATEMENT_PREFIX,e)),n.pythonGenerator.STATEMENT_SUFFIX&&(t+=n.pythonGenerator.injectId(n.pythonGenerator.STATEMENT_SUFFIX,e)),n.pythonGenerator.STATEMENT_PREFIX){const r=e.getSurroundLoop();r&&!r.suppressPrefixSuffix&&(t+=n.pythonGenerator.injectId(n.pythonGenerator.STATEMENT_PREFIX,r))}switch(e.getFieldValue("FLOW")){case"BREAK":return t+"break\n";case"CONTINUE":return t+"continue\n"}throw Error("Unknown flow statement.")},t.NameType$$module$build$src$core$names,n.pythonGenerator.addReservedWords("math,random,Number"),n.pythonGenerator.math_number=function(e){let t;return 1/0===(e=Number(e.getFieldValue("NUM")))?(e='float("inf")',t=n.pythonGenerator.ORDER_FUNCTION_CALL):-1/0===e?(e='-float("inf")',t=n.pythonGenerator.ORDER_UNARY_SIGN):t=0>e?n.pythonGenerator.ORDER_UNARY_SIGN:n.pythonGenerator.ORDER_ATOMIC,[e,t]},n.pythonGenerator.math_arithmetic=function(e){var t={ADD:[" + ",n.pythonGenerator.ORDER_ADDITIVE],MINUS:[" - ",n.pythonGenerator.ORDER_ADDITIVE],MULTIPLY:[" * ",n.pythonGenerator.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",n.pythonGenerator.ORDER_MULTIPLICATIVE],POWER:[" ** ",n.pythonGenerator.ORDER_EXPONENTIATION]}[e.getFieldValue("OP")];const r=t[0];return t=t[1],[(n.pythonGenerator.valueToCode(e,"A",t)||"0")+r+(e=n.pythonGenerator.valueToCode(e,"B",t)||"0"),t]},n.pythonGenerator.math_single=function(e){const t=e.getFieldValue("OP");let r;if("NEG"===t)return r=n.pythonGenerator.valueToCode(e,"NUM",n.pythonGenerator.ORDER_UNARY_SIGN)||"0",["-"+r,n.pythonGenerator.ORDER_UNARY_SIGN];switch(n.pythonGenerator.definitions_.import_math="import math",e="SIN"===t||"COS"===t||"TAN"===t?n.pythonGenerator.valueToCode(e,"NUM",n.pythonGenerator.ORDER_MULTIPLICATIVE)||"0":n.pythonGenerator.valueToCode(e,"NUM",n.pythonGenerator.ORDER_NONE)||"0",t){case"ABS":r="math.fabs("+e+")";break;case"ROOT":r="math.sqrt("+e+")";break;case"LN":r="math.log("+e+")";break;case"LOG10":r="math.log10("+e+")";break;case"EXP":r="math.exp("+e+")";break;case"POW10":r="math.pow(10,"+e+")";break;case"ROUND":r="round("+e+")";break;case"ROUNDUP":r="math.ceil("+e+")";break;case"ROUNDDOWN":r="math.floor("+e+")";break;case"SIN":r="math.sin("+e+" / 180.0 * math.pi)";break;case"COS":r="math.cos("+e+" / 180.0 * math.pi)";break;case"TAN":r="math.tan("+e+" / 180.0 * math.pi)"}if(r)return[r,n.pythonGenerator.ORDER_FUNCTION_CALL];switch(t){case"ASIN":r="math.asin("+e+") / math.pi * 180";break;case"ACOS":r="math.acos("+e+") / math.pi * 180";break;case"ATAN":r="math.atan("+e+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+t)}return[r,n.pythonGenerator.ORDER_MULTIPLICATIVE]},n.pythonGenerator.math_constant=function(e){const t={PI:["math.pi",n.pythonGenerator.ORDER_MEMBER],E:["math.e",n.pythonGenerator.ORDER_MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",n.pythonGenerator.ORDER_MULTIPLICATIVE],SQRT2:["math.sqrt(2)",n.pythonGenerator.ORDER_MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",n.pythonGenerator.ORDER_MEMBER],INFINITY:["float('inf')",n.pythonGenerator.ORDER_ATOMIC]};return"INFINITY"!==(e=e.getFieldValue("CONSTANT"))&&(n.pythonGenerator.definitions_.import_math="import math"),t[e]},n.pythonGenerator.math_number_property=function(e){var t={EVEN:[" % 2 == 0",n.pythonGenerator.ORDER_MULTIPLICATIVE,n.pythonGenerator.ORDER_RELATIONAL],ODD:[" % 2 == 1",n.pythonGenerator.ORDER_MULTIPLICATIVE,n.pythonGenerator.ORDER_RELATIONAL],WHOLE:[" % 1 == 0",n.pythonGenerator.ORDER_MULTIPLICATIVE,n.pythonGenerator.ORDER_RELATIONAL],POSITIVE:[" > 0",n.pythonGenerator.ORDER_RELATIONAL,n.pythonGenerator.ORDER_RELATIONAL],NEGATIVE:[" < 0",n.pythonGenerator.ORDER_RELATIONAL,n.pythonGenerator.ORDER_RELATIONAL],DIVISIBLE_BY:[null,n.pythonGenerator.ORDER_MULTIPLICATIVE,n.pythonGenerator.ORDER_RELATIONAL],PRIME:[null,n.pythonGenerator.ORDER_NONE,n.pythonGenerator.ORDER_FUNCTION_CALL]};const r=e.getFieldValue("PROPERTY"),[o,a,i]=t[r];if(t=n.pythonGenerator.valueToCode(e,"NUMBER_TO_CHECK",a)||"0","PRIME"===r)n.pythonGenerator.definitions_.import_math="import math",n.pythonGenerator.definitions_.from_numbers_import_Number="from numbers import Number",e=n.pythonGenerator.provideFunction_("math_isPrime",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(n):\n  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  # If n is not a number but a string, try parsing it.\n  if not isinstance(n, Number):\n    try:\n      n = float(n)\n    except:\n      return False\n  if n == 2 or n == 3:\n    return True\n  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.\n  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:\n    return False\n  # Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for x in range(6, int(math.sqrt(n)) + 2, 6):\n    if n % (x - 1) == 0 or n % (x + 1) == 0:\n      return False\n  return True\n`)+"("+t+")";else if("DIVISIBLE_BY"===r){if("0"===(e=n.pythonGenerator.valueToCode(e,"DIVISOR",n.pythonGenerator.ORDER_MULTIPLICATIVE)||"0"))return["False",n.pythonGenerator.ORDER_ATOMIC];e=t+" % "+e+" == 0"}else e=t+o;return[e,i]},n.pythonGenerator.math_change=function(e){n.pythonGenerator.definitions_.from_numbers_import_Number="from numbers import Number";const r=n.pythonGenerator.valueToCode(e,"DELTA",n.pythonGenerator.ORDER_ADDITIVE)||"0";return(e=n.pythonGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE))+" = ("+e+" if isinstance("+e+", Number) else 0) + "+r+"\n"},n.pythonGenerator.math_round=n.pythonGenerator.math_single,n.pythonGenerator.math_trig=n.pythonGenerator.math_single,n.pythonGenerator.math_on_list=function(e){var t=e.getFieldValue("OP");switch(e=n.pythonGenerator.valueToCode(e,"LIST",n.pythonGenerator.ORDER_NONE)||"[]",t){case"SUM":t="sum("+e+")";break;case"MIN":t="min("+e+")";break;case"MAX":t="max("+e+")";break;case"AVERAGE":n.pythonGenerator.definitions_.from_numbers_import_Number="from numbers import Number",t=n.pythonGenerator.provideFunction_("math_mean",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(myList):\n  localList = [e for e in myList if isinstance(e, Number)]\n  if not localList: return\n  return float(sum(localList)) / len(localList)\n`)+"("+e+")";break;case"MEDIAN":n.pythonGenerator.definitions_.from_numbers_import_Number="from numbers import Number",t=n.pythonGenerator.provideFunction_("math_median",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(myList):\n  localList = sorted([e for e in myList if isinstance(e, Number)])\n  if not localList: return\n  if len(localList) % 2 == 0:\n    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0\n  else:\n    return localList[(len(localList) - 1) // 2]\n`)+"("+e+")";break;case"MODE":t=n.pythonGenerator.provideFunction_("math_modes",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(some_list):\n  modes = []\n  # Using a lists of [item, count] to keep count rather than dict\n  # to avoid "unhashable" errors when the counted item is itself a list or dict.\n  counts = []\n  maxCount = 1\n  for item in some_list:\n    found = False\n    for count in counts:\n      if count[0] == item:\n        count[1] += 1\n        maxCount = max(maxCount, count[1])\n        found = True\n    if not found:\n      counts.append([item, 1])\n  for counted_item, item_count in counts:\n    if item_count == maxCount:\n      modes.append(counted_item)\n  return modes\n`)+"("+e+")";break;case"STD_DEV":n.pythonGenerator.definitions_.import_math="import math",t=n.pythonGenerator.provideFunction_("math_standard_deviation",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(numbers):\n  n = len(numbers)\n  if n == 0: return\n  mean = float(sum(numbers)) / n\n  variance = sum((x - mean) ** 2 for x in numbers) / n\n  return math.sqrt(variance)\n`)+"("+e+")";break;case"RANDOM":n.pythonGenerator.definitions_.import_random="import random",t="random.choice("+e+")";break;default:throw Error("Unknown operator: "+t)}return[t,n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.math_modulo=function(e){return[(n.pythonGenerator.valueToCode(e,"DIVIDEND",n.pythonGenerator.ORDER_MULTIPLICATIVE)||"0")+" % "+(e=n.pythonGenerator.valueToCode(e,"DIVISOR",n.pythonGenerator.ORDER_MULTIPLICATIVE)||"0"),n.pythonGenerator.ORDER_MULTIPLICATIVE]},n.pythonGenerator.math_constrain=function(e){return["min(max("+(n.pythonGenerator.valueToCode(e,"VALUE",n.pythonGenerator.ORDER_NONE)||"0")+", "+(n.pythonGenerator.valueToCode(e,"LOW",n.pythonGenerator.ORDER_NONE)||"0")+"), "+(e=n.pythonGenerator.valueToCode(e,"HIGH",n.pythonGenerator.ORDER_NONE)||"float('inf')")+")",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.math_random_int=function(e){return n.pythonGenerator.definitions_.import_random="import random",["random.randint("+(n.pythonGenerator.valueToCode(e,"FROM",n.pythonGenerator.ORDER_NONE)||"0")+", "+(e=n.pythonGenerator.valueToCode(e,"TO",n.pythonGenerator.ORDER_NONE)||"0")+")",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.math_random_float=function(e){return n.pythonGenerator.definitions_.import_random="import random",["random.random()",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.math_atan2=function(e){n.pythonGenerator.definitions_.import_math="import math";const t=n.pythonGenerator.valueToCode(e,"X",n.pythonGenerator.ORDER_NONE)||"0";return["math.atan2("+(n.pythonGenerator.valueToCode(e,"Y",n.pythonGenerator.ORDER_NONE)||"0")+", "+t+") / math.pi * 180",n.pythonGenerator.ORDER_MULTIPLICATIVE]},t.module$build$src$core$variables,t.NameType$$module$build$src$core$names,n.pythonGenerator.procedures_defreturn=function(e){var r=[],o=e.workspace,a=t.module$build$src$core$variables.allUsedVarModels(o)||[];for(let o,p=0;o=a[p];p++){var i=o.name;-1===e.getVars().indexOf(i)&&r.push(n.pythonGenerator.nameDB_.getName(i,t.NameType$$module$build$src$core$names.VARIABLE))}for(o=t.module$build$src$core$variables.allDeveloperVariables(o),a=0;a<o.length;a++)r.push(n.pythonGenerator.nameDB_.getName(o[a],t.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));o=r.length?n.pythonGenerator.INDENT+"global "+r.join(", ")+"\n":"",r=n.pythonGenerator.nameDB_.getName(e.getFieldValue("NAME"),t.NameType$$module$build$src$core$names.PROCEDURE),a="",n.pythonGenerator.STATEMENT_PREFIX&&(a+=n.pythonGenerator.injectId(n.pythonGenerator.STATEMENT_PREFIX,e)),n.pythonGenerator.STATEMENT_SUFFIX&&(a+=n.pythonGenerator.injectId(n.pythonGenerator.STATEMENT_SUFFIX,e)),a&&(a=n.pythonGenerator.prefixLines(a,n.pythonGenerator.INDENT)),i="",n.pythonGenerator.INFINITE_LOOP_TRAP&&(i=n.pythonGenerator.prefixLines(n.pythonGenerator.injectId(n.pythonGenerator.INFINITE_LOOP_TRAP,e),n.pythonGenerator.INDENT));let p=n.pythonGenerator.statementToCode(e,"STACK"),E=n.pythonGenerator.valueToCode(e,"RETURN",n.pythonGenerator.ORDER_NONE)||"",s="";p&&E&&(s=a),E?E=n.pythonGenerator.INDENT+"return "+E+"\n":p||(p=n.pythonGenerator.PASS);const u=[],h=e.getVars();for(let e=0;e<h.length;e++)u[e]=n.pythonGenerator.nameDB_.getName(h[e],t.NameType$$module$build$src$core$names.VARIABLE);return o="def "+r+"("+u.join(", ")+"):\n"+o+a+i+p+s+E,o=n.pythonGenerator.scrub_(e,o),n.pythonGenerator.definitions_["%"+r]=o,null},n.pythonGenerator.procedures_defnoreturn=n.pythonGenerator.procedures_defreturn,n.pythonGenerator.procedures_callreturn=function(e){const r=n.pythonGenerator.nameDB_.getName(e.getFieldValue("NAME"),t.NameType$$module$build$src$core$names.PROCEDURE),o=[],a=e.getVars();for(let t=0;t<a.length;t++)o[t]=n.pythonGenerator.valueToCode(e,"ARG"+t,n.pythonGenerator.ORDER_NONE)||"None";return[r+"("+o.join(", ")+")",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.procedures_callnoreturn=function(e){return n.pythonGenerator.procedures_callreturn(e)[0]+"\n"},n.pythonGenerator.procedures_ifreturn=function(e){let t="if "+(n.pythonGenerator.valueToCode(e,"CONDITION",n.pythonGenerator.ORDER_NONE)||"False")+":\n";return n.pythonGenerator.STATEMENT_SUFFIX&&(t+=n.pythonGenerator.prefixLines(n.pythonGenerator.injectId(n.pythonGenerator.STATEMENT_SUFFIX,e),n.pythonGenerator.INDENT)),e.hasReturnValue_?(e=n.pythonGenerator.valueToCode(e,"VALUE",n.pythonGenerator.ORDER_NONE)||"None",t+=n.pythonGenerator.INDENT+"return "+e+"\n"):t+=n.pythonGenerator.INDENT+"return\n",t},t.module$build$src$core$utils$string,t.NameType$$module$build$src$core$names,n.pythonGenerator.text=function(e){return[n.pythonGenerator.quote_(e.getFieldValue("TEXT")),n.pythonGenerator.ORDER_ATOMIC]},n.pythonGenerator.text_multiline=function(e){const t=-1!==(e=n.pythonGenerator.multiline_quote_(e.getFieldValue("TEXT"))).indexOf("+")?n.pythonGenerator.ORDER_ADDITIVE:n.pythonGenerator.ORDER_ATOMIC;return[e,t]};var r=/^\s*'([^']|\\')*'\s*$/,o=function(e){return r.test(e)?[e,n.pythonGenerator.ORDER_ATOMIC]:["str("+e+")",n.pythonGenerator.ORDER_FUNCTION_CALL]};return n.pythonGenerator.text_join=function(e){switch(e.itemCount_){case 0:return["''",n.pythonGenerator.ORDER_ATOMIC];case 1:return e=n.pythonGenerator.valueToCode(e,"ADD0",n.pythonGenerator.ORDER_NONE)||"''",o(e);case 2:var r=n.pythonGenerator.valueToCode(e,"ADD0",n.pythonGenerator.ORDER_NONE)||"''";return e=n.pythonGenerator.valueToCode(e,"ADD1",n.pythonGenerator.ORDER_NONE)||"''",[o(r)[0]+" + "+o(e)[0],n.pythonGenerator.ORDER_ADDITIVE];default:r=[];for(let t=0;t<e.itemCount_;t++)r[t]=n.pythonGenerator.valueToCode(e,"ADD"+t,n.pythonGenerator.ORDER_NONE)||"''";return["''.join([str("+(e=n.pythonGenerator.nameDB_.getDistinctName("x",t.NameType$$module$build$src$core$names.VARIABLE))+") for "+e+" in ["+r.join(", ")+"]])",n.pythonGenerator.ORDER_FUNCTION_CALL]}},n.pythonGenerator.text_append=function(e){const r=n.pythonGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE);return e=n.pythonGenerator.valueToCode(e,"TEXT",n.pythonGenerator.ORDER_NONE)||"''",r+" = str("+r+") + "+o(e)[0]+"\n"},n.pythonGenerator.text_length=function(e){return["len("+(n.pythonGenerator.valueToCode(e,"VALUE",n.pythonGenerator.ORDER_NONE)||"''")+")",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.text_isEmpty=function(e){return["not len("+(n.pythonGenerator.valueToCode(e,"VALUE",n.pythonGenerator.ORDER_NONE)||"''")+")",n.pythonGenerator.ORDER_LOGICAL_NOT]},n.pythonGenerator.text_indexOf=function(e){var t="FIRST"===e.getFieldValue("END")?"find":"rfind";const r=n.pythonGenerator.valueToCode(e,"FIND",n.pythonGenerator.ORDER_NONE)||"''";return t=(n.pythonGenerator.valueToCode(e,"VALUE",n.pythonGenerator.ORDER_MEMBER)||"''")+"."+t+"("+r+")",e.workspace.options.oneBasedIndex?[t+" + 1",n.pythonGenerator.ORDER_ADDITIVE]:[t,n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.text_charAt=function(e){const t=e.getFieldValue("WHERE")||"FROM_START",r=n.pythonGenerator.valueToCode(e,"VALUE","RANDOM"===t?n.pythonGenerator.ORDER_NONE:n.pythonGenerator.ORDER_MEMBER)||"''";switch(t){case"FIRST":return[r+"[0]",n.pythonGenerator.ORDER_MEMBER];case"LAST":return[r+"[-1]",n.pythonGenerator.ORDER_MEMBER];case"FROM_START":return[r+"["+(e=n.pythonGenerator.getAdjustedInt(e,"AT"))+"]",n.pythonGenerator.ORDER_MEMBER];case"FROM_END":return[r+"["+(e=n.pythonGenerator.getAdjustedInt(e,"AT",1,!0))+"]",n.pythonGenerator.ORDER_MEMBER];case"RANDOM":return n.pythonGenerator.definitions_.import_random="import random",[n.pythonGenerator.provideFunction_("text_random_letter",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(text):\n  x = int(random.random() * len(text))\n  return text[x]\n`)+"("+r+")",n.pythonGenerator.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},n.pythonGenerator.text_getSubstring=function(e){var r=e.getFieldValue("WHERE1");const o=e.getFieldValue("WHERE2"),a=n.pythonGenerator.valueToCode(e,"STRING",n.pythonGenerator.ORDER_MEMBER)||"''";switch(r){case"FROM_START":0===(r=n.pythonGenerator.getAdjustedInt(e,"AT1"))&&(r="");break;case"FROM_END":r=n.pythonGenerator.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":r="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(o){case"FROM_START":e=n.pythonGenerator.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=n.pythonGenerator.getAdjustedInt(e,"AT2",0,!0),t.module$build$src$core$utils$string.isNumber(String(e))?0===e&&(e=""):(n.pythonGenerator.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[a+"["+r+" : "+e+"]",n.pythonGenerator.ORDER_MEMBER]},n.pythonGenerator.text_changeCase=function(e){const t={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[e.getFieldValue("CASE")];return[(n.pythonGenerator.valueToCode(e,"TEXT",n.pythonGenerator.ORDER_MEMBER)||"''")+t,n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.text_trim=function(e){const t={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[e.getFieldValue("MODE")];return[(n.pythonGenerator.valueToCode(e,"TEXT",n.pythonGenerator.ORDER_MEMBER)||"''")+t,n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.text_print=function(e){return"print("+(n.pythonGenerator.valueToCode(e,"TEXT",n.pythonGenerator.ORDER_NONE)||"''")+")\n"},n.pythonGenerator.text_prompt_ext=function(e){var t=n.pythonGenerator.provideFunction_("text_prompt",`\ndef ${n.pythonGenerator.FUNCTION_NAME_PLACEHOLDER_}(msg):\n  try:\n    return raw_input(msg)\n  except NameError:\n    return input(msg)\n`);let r;return r=e.getField("TEXT")?n.pythonGenerator.quote_(e.getFieldValue("TEXT")):n.pythonGenerator.valueToCode(e,"TEXT",n.pythonGenerator.ORDER_NONE)||"''",t=t+"("+r+")","NUMBER"===e.getFieldValue("TYPE")&&(t="float("+t+")"),[t,n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.text_prompt=n.pythonGenerator.text_prompt_ext,n.pythonGenerator.text_count=function(e){return[(n.pythonGenerator.valueToCode(e,"TEXT",n.pythonGenerator.ORDER_MEMBER)||"''")+".count("+(e=n.pythonGenerator.valueToCode(e,"SUB",n.pythonGenerator.ORDER_NONE)||"''")+")",n.pythonGenerator.ORDER_FUNCTION_CALL]},n.pythonGenerator.text_replace=function(e){return[(n.pythonGenerator.valueToCode(e,"TEXT",n.pythonGenerator.ORDER_MEMBER)||"''")+".replace("+(n.pythonGenerator.valueToCode(e,"FROM",n.pythonGenerator.ORDER_NONE)||"''")+", "+(e=n.pythonGenerator.valueToCode(e,"TO",n.pythonGenerator.ORDER_NONE)||"''")+")",n.pythonGenerator.ORDER_MEMBER]},n.pythonGenerator.text_reverse=function(e){return[(n.pythonGenerator.valueToCode(e,"TEXT",n.pythonGenerator.ORDER_MEMBER)||"''")+"[::-1]",n.pythonGenerator.ORDER_MEMBER]},t.NameType$$module$build$src$core$names,n.pythonGenerator.variables_get=function(e){return[n.pythonGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE),n.pythonGenerator.ORDER_ATOMIC]},n.pythonGenerator.variables_set=function(e){const r=n.pythonGenerator.valueToCode(e,"VALUE",n.pythonGenerator.ORDER_NONE)||"0";return n.pythonGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE)+" = "+r+"\n"},n.pythonGenerator.variables_get_dynamic=n.pythonGenerator.variables_get,n.pythonGenerator.variables_set_dynamic=n.pythonGenerator.variables_set,n.__namespace__=t,n})?r.apply(t,o):r)||(e.exports=a)}}]);
//# sourceMappingURL=941.ba1f0df21c5a109c75ca.js.map?v=ba1f0df21c5a109c75ca