function chartMatrix(b,a){if(b.python){result={datasets:[],labels:b.series};b.datasets.forEach(function(b,c){if(typeof b.backgroundColor==="undefined"){b.backgroundColor=a.background_colors[c];};if(typeof b.borderColor==="undefined"){b.borderColor=a.colors[c];};if(typeof a.commons!=="undefined"){Object.assign(b,a.commons);}result.datasets.push(b);});}else{var c={};var d=[];a.y_columns.forEach(function(a){c[a]=[];});b.forEach(function(b){a.y_columns.forEach(function(e){if(b[a.x_axis]!==undefined){d.push(b[a.x_axis]);c[e].push({y:b[e],x:b[a.x_axis]});}});});result={datasets:[],labels:d};a.y_columns.forEach(function(b,f){dataSet={label:b,type:a.type,data:[],backgroundColor:a.colors[f]};if(typeof a.commons!=='undefined'){for(var e in a.commons){dataSet[e]=a.commons[e];};}d.forEach(function(a,d){dataSet.data=c[b];});if((typeof a.datasets!=='undefined')&&(typeof a.datasets[b]!=='undefined')){dataSet=Object.assign(dataSet,a.datasets[b]);}result.datasets.push(dataSet);});if(typeof a.labels!=="undefined"){result.labels=a.labels;}};return result;}