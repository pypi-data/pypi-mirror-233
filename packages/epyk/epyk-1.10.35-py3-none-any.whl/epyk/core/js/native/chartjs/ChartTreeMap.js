function chartTreeMap(b,a){if(b.python){result={datasets:[],labels:b.labels};b.datasets.forEach(function(b,c){if(typeof b.backgroundColor==="undefined"){b.backgroundColor=a.background_colors;};if(typeof b.borderColor==="undefined"){b.borderColor=a.colors;};if(typeof b.hoverBackgroundColor==="undefined"){b.hoverBackgroundColor=a.background_colors;};if(typeof a.commons!=="undefined"){Object.assign(b,a.commons);};result.datasets.push(b);});}else{result={datasets:[],labels:[]};result.datasets.push({tree:b,key:a.y_columns[0],groups:a.groups,labels:{display:true}});result.datasets.forEach(function(b,c){if(a.commons.backgroundColorMaps){b.backgroundColor=function(c){var b=c.dataset.data[c.dataIndex];if(b){var e=b.v/(b.gs||b.s)/2+0.5;var d=a.commons.backgroundColorMaps;if(d[b.g]){return d[b.g];}if(b.l===0){return Chart.helpers.color(a.commons.colors.light).alpha(e).rgbString();}if(b.l===1){return Chart.helpers.color("white").alpha(0.3).rgbString();}else{return Chart.helpers.color(a.commons.colors.base).alpha(e).rgbString();}}};}else{b.backgroundColor=a.colors[c];}});};return result;}