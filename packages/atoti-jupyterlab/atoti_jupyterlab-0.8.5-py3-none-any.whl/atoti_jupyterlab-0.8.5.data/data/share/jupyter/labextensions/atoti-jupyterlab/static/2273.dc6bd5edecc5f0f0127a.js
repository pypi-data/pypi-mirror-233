"use strict";(self.webpackChunkatoti_jupyterlab=self.webpackChunkatoti_jupyterlab||[]).push([[2273],{82273:(o,t,a)=>{a.r(t),a.d(t,{default:()=>g});var e=a(52903),i=a(2242),n=a(62394),l=a(66029),r=a(61745),d=a(62144),p=a(87618),s=a(7010),c=a(9582),u=a(74508);function m(o,t){switch(t.type){case"comparisonValueChanged":return{...o,[t.isOptional?"optionalComparisonValue":"mandatoryComparisonValue"]:t.value};case"comparisonOperatorChanged":{const{isOptional:a,operator:e}=t;if(a)return{...o,optionalComparisonOperator:e};const{optionalComparisonOperator:i,optionalComparisonValue:n}=["eq","neq"].includes(e)?{optionalComparisonOperator:void 0,optionalComparisonValue:void 0}:o;return e.startsWith("lt")&&i?.startsWith("lt")?{...o,mandatoryComparisonOperator:e,optionalComparisonOperator:"gt",optionalComparisonValue:void 0}:e.startsWith("gt")&&i?.startsWith("gt")?{...o,mandatoryComparisonOperator:e,optionalComparisonOperator:"lt",optionalComparisonValue:void 0}:{...o,mandatoryComparisonOperator:e,optionalComparisonOperator:i,optionalComparisonValue:n}}case"optionalComparisonValueReset":return{...o,optionalComparisonValue:void 0};case"backgroundColorSelected":return{...o,selectedBackgroundColor:t.color}}}const{Option:C}=n.Select,y=["#8C8C8C","#FF7875","#FFC069","#FFF566","#95DE64","#69C0FF","#5CDBD3","#B37FEB","#FF85C0","#595959","#FF4D4F","#FFA940","#FFEC3D","#73D13D","#40A9FF","#36CFC9","#9254DE","#F759AB","#262626","#F5222D","#FA8C16","#FADB14","#52C41A","#1890FF","#13C2C2","#722ED1","#EB2F96"],g=o=>{const{formatMessage:t}=(0,r.useIntl)(),a=(0,d.Fg)(),{conditionalStyle:g}=o,{style:h,...v}=g||{style:{}},b=void 0!==g&&0===Object.keys(v).length,[B,O]=(0,l.useReducer)(m,{},(()=>function(o){const{style:t,...a}=o||{style:{}},e={mandatoryComparisonOperator:"eq",selectedBackgroundColor:t?.backgroundColor},i=(0,u.sortBy)(Object.entries(a),(([o,t])=>t));return i.length>0&&(e.mandatoryComparisonOperator=i[0][0],e.mandatoryComparisonValue=i[0][1]),2===i.length&&(e.optionalComparisonOperator=i[1][0],e.optionalComparisonValue=i[1][1]),e}(o.conditionalStyle))),{selectedBackgroundColor:F,mandatoryComparisonValue:S,optionalComparisonValue:f,mandatoryComparisonOperator:k,optionalComparisonOperator:V}=B,D="eq"===k||"neq"===k,[Z,w,x]=function({mandatoryComparisonValue:o,optionalComparisonOperator:t,optionalComparisonValue:a,selectedBackgroundColor:e},i){return void 0===e?[!1,"invalidConditionalStyle","color"]:i?[!0]:void 0===o||void 0===a&&void 0!==t?[!1,"invalidConditionalStyle","value"]:void 0!==a&&void 0===t?[!1,"invalidConditionalStyle","operator"]:void 0!==a&&void 0!==t?t.startsWith("lt")?a>o?[!0]:[!1,"invalidComparison"]:a<o?[!0]:[!1,"invalidComparison"]:[!0]}(B,b);return(0,e.BX)("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[(0,e.BX)("div",{style:{marginTop:3,flexGrow:1},children:[b?null:(0,e.BX)("div",{children:[(0,e.tZ)("div",{style:{marginBottom:4},children:t({id:"aui.conditionalStyle.ifValue"})}),(0,e.BX)("div",{style:{display:"flex",marginBottom:4},children:[(0,e.tZ)(n.Select,{"aria-label":"Mandatory operator selection",style:{width:"70%",marginRight:5},value:k,onChange:o=>{O({type:"comparisonOperatorChanged",operator:o})},children:["eq","neq","lt","lte","gt","gte"].map((o=>(0,e.tZ)(C,{value:o,children:t({id:`aui.conditionalStyle.operator.${o}`})},o)))}),(0,e.tZ)(n.InputNumber,{"aria-label":"Mandatory comparison value input",style:{width:"30%"},value:S,type:"number",onChange:o=>"number"==typeof o&&O({type:"comparisonValueChanged",value:o})})]})]}),b?null:(0,e.BX)("div",{children:[(0,e.BX)("div",{style:{marginBottom:4},children:[t({id:"aui.and"}),"Â ",(0,e.BX)(s.Text,{small:!0,style:{color:a.grayScale[6]},children:["(",t({id:"aui.conditionalStyle.optional"}),")"]})]}),(0,e.BX)("div",{style:{display:"flex",marginBottom:4},children:[(0,e.tZ)(n.Select,{disabled:D,style:{width:"70%",marginRight:5},value:V,onChange:o=>O({type:"comparisonOperatorChanged",operator:o,isOptional:!0}),"aria-label":"Optional operator selection",allowClear:!0,children:("lt"===k||"lte"===k?["gt","gte"]:["lt","lte"]).map((o=>(0,e.tZ)(C,{value:o,children:t({id:`aui.conditionalStyle.operator.${o}`})},o)))}),(0,e.tZ)(n.InputNumber,{"aria-label":"Optional comparison value input",style:{width:"30%"},type:"number",disabled:D,value:f,onChange:o=>{void 0===o||""==`${o}`?O({type:"optionalComparisonValueReset"}):"number"==typeof o&&O({type:"comparisonValueChanged",value:o,isOptional:!0})}})]})]}),(0,e.BX)("div",{children:[(0,e.tZ)("div",{style:{marginBottom:4,marginTop:8},children:t({id:"aui.conditionalStyle.styleAs"})}),(0,e.tZ)("div",{style:{height:26,lineHeight:"26px",border:`1px solid ${a.grayScale[4]}`,backgroundColor:F?(0,p.U)(F,o.colorOpacity??1):void 0,paddingLeft:5,marginBottom:4},children:"123"})]}),(0,e.BX)("div",{style:{marginBottom:5,marginTop:5},children:[(0,e.tZ)("div",{style:{marginBottom:2},children:t({id:"aui.conditionalStyle.backgroundColors"})}),(0,e.tZ)(c.j,{colorOpacity:o.colorOpacity,selectedBackgroundColor:F,onSelectedBackgroundColorChanged:o=>O({type:"backgroundColorSelected",color:o}),colors:y,selectionMarkStyle:{color:a.selectionMarkDarkColor},numberOfColumns:9,numberOfRows:3})]})]}),(0,e.BX)("div",{style:{height:35,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[(0,e.tZ)(n.Button,{css:i.css`
            &.ant-btn {
              margin-right: 8px;
            }
          `,onClick:()=>o.onCancel(),children:t({id:"aui.cancel"})}),(0,e.tZ)(s.Tooltip,{trigger:Z?[]:["hover"],placement:"right",title:w?t({id:`aui.conditionalStyle.${w}`},{type:x}):"",children:(0,e.tZ)(n.Button,{disabled:!Z,"aria-label":"Submit",type:"primary",onClick:()=>{b?o.onSubmitDefaultStyle({backgroundColor:F}):o.onSubmit({[k]:S,...V&&f?{[V]:f}:{},style:{backgroundColor:F}})},children:t({id:"aui.conditionalStyle.apply"})})})]})]})}}}]);