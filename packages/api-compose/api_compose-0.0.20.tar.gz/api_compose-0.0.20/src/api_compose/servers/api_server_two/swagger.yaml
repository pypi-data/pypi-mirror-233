openapi: '3.0.0'
info:
  title: Mock REST API Server
  version: "0.1"
  description: Testing the API Compose Framework

servers:
  - url: http://localhost:8085
    description: Test Base URL

tags:
  - name: stateless
    description: Stateless Endpoints
  - name: stateful-user
    description: Stateful Endpoints defined by user
  - name: stateful-system
    description: Stateful Endpoints defined by system

paths:
   # Stateless Endpoint
  /unit/number/stateless:
    get:
      summary: Return the number you input
      tags:
        - stateless
      parameters:
        - in: query
          name: number
          schema:
            type: integer
          required: true
          description: the number to return
      responses:
        "200":
          description: OK

  # Stateful Endpoint
  /unit/number/stateful-one:
    get:
      summary: Return the number in memory
      tags:
        - stateful-user
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  number:
                    type: integer
                    description: The number in memory

    post:
      summary: create a number in memory
      tags:
        - stateful-user
      requestBody:
        description: Body contains the number to be put in memory
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                number:
                  type: integer
              required:
                - number
      responses:
        "200":
          description: OK

    delete:
      tags:
        - stateful-user
      summary: delete the number in memory
      responses:
        "200":
          description: OK

  # Stateful Endpoint.
  /unit/number/stateful-two:
    get:
      summary: Get the number generated by system
      tags:
        - stateful-system
      responses:
        "200":
          description: "Getting Number is successful"

    post:
      summary: Post the number you think the system has generated
      tags:
        - stateful-system
      requestBody:
        description: Body with number which you guess is the same one generated by the system
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                number:
                  type: integer
              required:
                - number
      responses:
        "200":
          description: "Correct Guess"
        "400":
          description: "Wrong Guess"
