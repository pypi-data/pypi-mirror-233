Metadata-Version: 2.1
Name: pproj
Version: 0.2.19
Summary: A tool for managing python packages
Author-email: José Antonio Puértolas Montañés <63794670+j5pu@users.noreply.github.com>
License: MIT
Project-URL: Homepage, https://github.com/j5pu/pproj
Requires-Python: >=3.11
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: rich <14,>=13.6.0
Requires-Dist: tomlkit <1,>=0.12.1
Requires-Dist: typer[all] <1,>=0.9
Provides-Extra: all
Requires-Dist: pproj[dev,docs,tests] ; extra == 'all'
Provides-Extra: dev
Requires-Dist: black[d] <24,>=23.9.1 ; extra == 'dev'
Requires-Dist: build <2,>=1.0.3 ; extra == 'dev'
Requires-Dist: icecream <3,>=2.1.3 ; extra == 'dev'
Requires-Dist: ipython <9,>=8.16.0 ; extra == 'dev'
Requires-Dist: ipython-suggestions <2,>=1.0.0 ; extra == 'dev'
Requires-Dist: restmagic <1,>=0.7.2 ; extra == 'dev'
Requires-Dist: mypy <2,>=1.5.1 ; extra == 'dev'
Requires-Dist: pyflyby <2,>=1.8.6 ; extra == 'dev'
Requires-Dist: twine <5,>=4.0.2 ; extra == 'dev'
Provides-Extra: docs
Requires-Dist: docutils ; extra == 'docs'
Requires-Dist: furo <2024,>=2023.9.10 ; extra == 'docs'
Requires-Dist: myst-parser <3,>=2.0.0 ; extra == 'docs'
Requires-Dist: sphinx <8,>=7.2.6 ; extra == 'docs'
Requires-Dist: sphinx-autobuild <2022,>=2021.3.14 ; extra == 'docs'
Requires-Dist: sphinx-click <6,>=5.0.1 ; extra == 'docs'
Requires-Dist: sphinxcontrib-napoleon <1,>=0.7 ; extra == 'docs'
Provides-Extra: tests
Requires-Dist: coverage[toml] <7,>=6 ; extra == 'tests'
Requires-Dist: darglint <2,>=1.8.1 ; extra == 'tests'
Requires-Dist: environs <10,>=9.5.0 ; extra == 'tests'
Requires-Dist: pycodestyle <3,>=2.11.0 ; extra == 'tests'
Requires-Dist: pydocstyle <7,>=6.3 ; extra == 'tests'
Requires-Dist: pytest <8,>=7 ; extra == 'tests'
Requires-Dist: pytest-asyncio <1,>=0.21.1 ; extra == 'tests'
Requires-Dist: pytest-clarity <2,>=1.0.1 ; extra == 'tests'
Requires-Dist: pytest-cov <5,>=4 ; extra == 'tests'
Requires-Dist: pytest-doctestplus <1,>=0.13 ; extra == 'tests'
Requires-Dist: pytest-git <2,>=1.7.0 ; extra == 'tests'
Requires-Dist: pytest-git-fixtures <1,>=0.1.7 ; extra == 'tests'
Requires-Dist: pytest-github-actions-annotate-failures <1,>=0.2.0 ; extra == 'tests'
Requires-Dist: pytest-mock <4,>=3 ; extra == 'tests'
Requires-Dist: pytest-xdist <3,>=2 ; extra == 'tests'
Requires-Dist: pytest-remotedata <1,>=0.4.0 ; extra == 'tests'
Requires-Dist: pytest-lazy-fixture ~=0.6.3 ; extra == 'tests'
Requires-Dist: pytest-sugar <1,>=0.9.7 ; extra == 'tests'
Requires-Dist: responses <1,>=0.21.0 ; extra == 'tests'
Requires-Dist: requests-mock <2,>=1.10.0 ; extra == 'tests'
Requires-Dist: ruff <0.1,>=0.0.282 ; extra == 'tests'
Requires-Dist: ruff-lsp <0.1,>=0.0.39 ; extra == 'tests'
Requires-Dist: tox <5,>=4.6.4 ; extra == 'tests'
Requires-Dist: types-pytest-lazy-fixture >=0.6.3.3 ; extra == 'tests'
Requires-Dist: xdoctest <2,>=1.1.1 ; extra == 'tests'

# Pproj

[![PyPI](https://img.shields.io/pypi/v/pproj.svg)][pypi status]
[![Status](https://img.shields.io/pypi/status/pproj.svg)][pypi status]
[![Python Version](https://img.shields.io/pypi/pyversions/pproj)][pypi status]
[![License](https://img.shields.io/pypi/l/pproj)][license]

[![Read the documentation at https://pproj.readthedocs.io/](https://img.shields.io/readthedocs/pproj/latest.svg?label=Read%20the%20Docs)][read the docs]
[![Tests](https://github.com/j5pu/pproj/workflows/Tests/badge.svg)][tests]
[![Codecov](https://codecov.io/gh/j5pu/pproj/branch/main/graph/badge.svg)][codecov]

[pypi status]: https://pypi.org/project/pproj/

[read the docs]: https://pproj.readthedocs.io/

[tests]: https://github.com/j5pu/pproj/actions?workflow=Tests

[codecov]: https://app.codecov.io/gh/j5pu/pproj

## Features

### Automatic installation of packages

`PipMetaPathFinder` is a `sys.meta_path` finder that automatically installs packages when they are imported.

### Task dependencies
- `venv` runs `write` and `requirements`
- `build` runs  `venv`, `completions`, `docs` and `clean`.
- `tests` runs `build`, `ruff`, `pytest` and `tox`
- `publish` runs `tests`, `commit`, `tag`, `push`, `twine` and `clean`

### Completions

To install completions after a package is installed:
`proj completions [name]` or `completions [name]`

## Repos

To synchronize (push or pull) all repos under `~/Archive` and `$HOME` run: `repos --sync` or `proj repos --sync`

### pyproject.toml

#### Project

Project section information in `pyproject.toml` is automatically updated when `Project.write()` is called, is key is not in project. 
An empty `pyproject.toml` is needed.

#### Extras
To use all extras from pproj to your project, add the following to your `pyproject.toml`:

```toml
[project.optional-dependencies]
dev = [
    "pproj[all]",
]
```

### docs conf.py and requirements.txt

doc `conf.py`and `requirements.txt` are automatically updated when `Project.write()` is called.

### Makefile

```makefile
.PHONY: docs tests venv

brew:
	@proj $@ --command gh

browser:
	@$@

build:  # Build a project `venv`, `completions`, `docs` and `clean`.
	@$@

clean:
	@$@

commit: tests
	@$@

completions:
	@$@

coverage:
	@proj $@

docs:
	@$@

latest:
	@$@

next:
	@$@

pproj:
	@python3 -m pip install -q $@
    
publish:  # runs `tests`, `commit`, `tag`, `push`, `twine` and `clean`
	@$@

pyenv:
	@pyenv install 3.11
	@pyenv install 3.12-dev

pytest:
	@proj $@

requirements:
	@$@ --install

ruff:
	@proj $@

secrets:
	@$@

tests:  # runs `build`, `ruff`, `pytest` and `tox`
	@$@

tox:
	@proj $@

twine:
	@proj $@

venv:  # runs `write` and `requirements`
	@$@

.DEFAULT_GOAL := publish
```

## Installation

You can install _Pproj_ via [pip] from [PyPI]:

```console
$ pip install pproj
```

## Usage

Please see the [Command-line Reference] for details.

## License

Distributed under the terms of the [MIT license][license],
_pproj_ is free and open source software.

## Issues

If you encounter any problems,
please [file an issue] along with a detailed description.

## Credits

[@j5pu]: https://github.com/j5pu

[pypi]: https://pypi.org/

[file an issue]: https://github.com/j5pu/pproj/issues

[pip]: https://pip.pypa.io/

<!-- github-only -->

[license]: https://github.com/j5pu/pproj/blob/main/LICENSE

[command-line reference]: https://pproj.readthedocs.io/en/latest/usage.html
