"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{97765:function(n,e,t){t.d(e,{G:function(){return z}});var r=t(85333),o=t(6692),i=t(58467),a=t(73235),s=t(82550),l=t(52322),u=t(60138),c=t(28413),h=t(98353),d=t(2736),p=t(45),f=t(42033),x=t(47625),v=t(51269),m=t(72096),b=t(2784),j=t(7267),g=t(87905),y=t(37287),w=t(48608),_=t(97319),k=t(29545),R=t(83221),C=t(47424),S=t(88498),P=t(16369),I=t(72171),E=t(72224),F=t(33667),N=t(19618),O=t(41060),T=t(16201),A=t(39032);function $(){var n=(0,a._)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return $=function(){return n},n}var q=["status","tag","created_date_before","created_date_after"],z=function(n){(0,w.Px)();var e=(0,j.UO)().pipelinePath,t=n.repoAddress,a=void 0===t?null:t,u=(0,T.p3)(e),m=u.pipelineName,g=u.snapshotId,P=(0,F.Ux)(a),O=(0,F.E8)(P,m);(0,A.b)(u,O);var $=(0,i._)((0,C.oD)(q),2),z=$[0],V=$[1],W=b.useMemo(function(){return[O?{token:"job",value:m}:{token:"pipeline",value:m},g?{token:"snapshotId",value:g}:null].filter(Boolean)},[O,m,g]),H=(0,s._)(z).concat((0,s._)(W));if(a){var B={token:"tag",value:"".concat(k.H.RepositoryLabelTag,"=").concat((0,N.Wg)(a))};H.push(B)}var D=(0,S.l)({query:U,pageSize:25,variables:{filter:(0,o._)((0,r._)({},(0,C.VH)(H)),{pipelineName:m,snapshotId:g})},nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.id},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]}}),L=D.queryResult,Q=D.paginationProps,Z=b.useCallback(function(n){var e=(0,c.HY)(n);z.some(function(n){return(0,c.HY)(n)===e})||V((0,s._)(z).concat([n]))},[z,V]),G=(0,y.C4)(L,y.dT),J=(0,C.Vv)({enabledFilters:q,tokens:z,onChange:V,loading:L.loading}),K=J.button,M=J.activeFiltersJsx;return(0,l.jsx)(R.Lw.Provider,{value:{refetch:L.refetch},children:(0,l.jsx)(h.T,{children:(0,l.jsx)(I.g,{queryResult:L,allowStaleData:!0,children:function(n){var t=n.pipelineRunsOrError;if("Runs"!==t.__typename)return(0,l.jsx)(d.x,{padding:{vertical:64},children:(0,l.jsx)(p.t,{icon:"error",title:"Query Error",description:t.message})});var o=t.results.slice(0,25),i=Q.hasNextCursor,s=Q.hasPrevCursor;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(E.Y,{$top:0,children:(0,l.jsx)(_.AL,{runs:o,onAddTag:Z,actionBarComponents:(0,l.jsxs)(d.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[K,(0,l.jsx)(y.xi,{refreshState:G})]}),belowActionBarComponents:(0,l.jsxs)(l.Fragment,{children:[W.map(function(n){var e=n.token,t=n.value;return(0,l.jsx)(f.V,{children:"".concat(e,":").concat(t)},e)}),M.length?(0,l.jsxs)(l.Fragment,{children:[M,(0,l.jsx)(x.Z,{onClick:function(){V([])},children:"Clear all"})]}):null]}),emptyState:function(){return(0,l.jsx)(Y,{repoAddress:a,anyFilter:z.length>0,jobName:m,jobPath:e})}})}),i||s?(0,l.jsx)("div",{style:{marginTop:"20px"},children:(0,l.jsx)(v.pI,(0,r._)({},Q))}):null]})}})})})},Y=function(n){var e=n.repoAddress,t=n.anyFilter,r=n.jobName,o=n.jobPath,i=(0,F.Ux)(e),a=(0,F.Hb)(i,r);return(0,l.jsx)(d.x,{padding:{vertical:64},children:(0,l.jsx)(p.t,{icon:"run",title:"No runs found",description:e?a?(0,l.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,l.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,l.jsx)("div",{children:(0,l.jsx)(P.A,{icon:(0,l.jsx)(m.JO,{name:"materialization"}),to:(0,O.$U)(e,"/jobs/".concat(o)),children:"Materialize an asset"})})]}):(0,l.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,l.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,l.jsx)("div",{children:(0,l.jsx)(P.A,{icon:(0,l.jsx)(m.JO,{name:"add_circle"}),to:(0,O.$U)(e,"/jobs/".concat(o,"/playground")),children:"Launch a run"})})]}):(0,l.jsx)("div",{children:"You have not launched any runs for this job."})})})},U=(0,u.Ps)($(),_.ZZ,g.B)},88498:function(n,e,t){t.d(e,{l:function(){return c}});var r=t(85333),o=t(6692),i=t(58467),a=t(82550),s=t(40794),l=t(2784),u=t(76358);function c(n){var e=(0,i._)(l.useState(function(){return[]}),2),t=e[0],c=e[1],h=(0,i._)((0,u.q)({queryKey:"cursor"}),2),d=h[0],p=h[1],f=(0,o._)((0,r._)({},n.variables),{cursor:d,limit:n.pageSize+1}),x=(0,s.a)(n.query,{skip:n.skip,variables:f,notifyOnNetworkStatusChange:!0}),v=n.getResultArray(x.data),m={hasPrevCursor:!!d,hasNextCursor:v.length===n.pageSize+1,popCursor:function(){var n=(0,a._)(t);p(n.pop()),c(n)},advanceCursor:function(){d&&c(function(n){return(0,a._)(n).concat([d])});var e=x.data&&n.nextCursorForResult(x.data);e&&p(e)},reset:function(){c([]),p(void 0)}};return{queryResult:x,paginationProps:m}}},71365:function(n,e,t){t.r(e),t.d(e,{SnapshotRoot:function(){return R},default:function(){return C}});var r=t(52322);t(2784);var o=t(7267),i=t(2747),a=t(16201),s=t(97765),l=t(85333),u=t(6692),c=t(73235),h=t(60138),d=t(40794),p=t(42033),f=t(62540),x=t(19369),v=t(94901),m=t(11780),b=t(47933),j=t(89072),g=t(33667),y=t(41060);function w(){var n=(0,c._)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]);return w=function(){return n},n}var _=(0,h.Ps)(w()),k=function(n){var e,t,o=n.activeTab,i=n.explorerPath,s=i.pipelineName,c=i.snapshotId,h=void 0===c?"":c,w=(0,a.gY)((0,u._)((0,l._)({},i),{opNames:[]})),k=(0,g.Nc)(s),R=null==k?void 0:k.pipelineSnapshotId,C=(0,d.a)(_,{variables:{snapshotId:h}}),S=C.data,P=C.loading;return(0,r.jsx)(f.m,{title:(0,r.jsx)(x.X6,{style:{fontFamily:v.b.monospace,fontSize:"20px"},children:null===(t=i.snapshotId)||void 0===t?void 0:t.slice(0,8)}),tags:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.V,{icon:"schema",children:["Snapshot of"," ",(0,r.jsx)(b.rU,{to:(0,y.r4)(i.pipelineName),children:i.pipelineName})]}),P?(0,r.jsx)(p.V,{intent:"none",minimal:!0,children:"..."}):R&&(R===h||(null==S?void 0:S.pipelineSnapshotOrError.__typename)!=="PipelineSnapshot"||(null==S?void 0:null===(e=S.pipelineSnapshotOrError)||void 0===e?void 0:e.parentSnapshotId)===R)?(0,r.jsx)(p.V,{intent:"success",minimal:!0,children:"Current"}):(0,r.jsx)(p.V,{intent:"warning",minimal:!0,children:"Snapshot"})]}),tabs:(0,r.jsx)(m.mQ,{selectedTabId:void 0===o?"":o,children:[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(w)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(w,"runs")}].map(function(n){var e=n.href,t=n.text,o=n.pathComponent;return(0,r.jsx)(j.f,{id:o,title:t,to:e},t)})})})},R=function(){var n=(0,o.UO)(),e=n.pipelinePath,t=n.tab,l=(0,a.p3)(e);return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,r.jsx)(k,{activeTab:t,explorerPath:l}),(0,r.jsxs)(o.rs,{children:[(0,r.jsx)(o.AW,{path:"/snapshots/:pipelinePath/runs",children:(0,r.jsx)(s.G,{})}),(0,r.jsx)(o.AW,{path:"/snapshots/(/?.*)",children:(0,r.jsx)(i.CY,{})})]})]})},C=R},72224:function(n,e,t){t.d(e,{Y:function(){return a}});var r=t(73235),o=t(87323);function i(){var n=(0,r._)(["\n  thead tr {\n    position: sticky;\n    top: ","px;\n    background-color: ",";\n    z-index: 1;\n  }\n\n  /**\n   * Safari won't render a box-shadow on the `tr` and we don't want an inset\n   * box-shadow on `th` elements because it will create a double-border on the\n   * bottom of the `thead` in the non-stuck state.\n   *\n   * We therefore render an absoulutely-positioned keyline on the bottom of the\n   * `th` elements. This will appear as a border in the stuck state, and will\n   * overlap the top box-shadow of the first row in the non-stuck state.\n   */\n  thead tr th {\n    position: relative;\n  }\n\n  thead tr th::after {\n    content: '';\n    display: block;\n    height: 1px;\n    background-color: ",";\n    position: absolute;\n    bottom: -1px;\n    left: 0;\n    right: 0;\n  }\n"],["\n  thead tr {\n    position: sticky;\n    top: ","px;\n    background-color: ",";\n    z-index: 1;\n  }\n\n  /**\n   * Safari won't render a box-shadow on the \\`tr\\` and we don't want an inset\n   * box-shadow on \\`th\\` elements because it will create a double-border on the\n   * bottom of the \\`thead\\` in the non-stuck state.\n   *\n   * We therefore render an absoulutely-positioned keyline on the bottom of the\n   * \\`th\\` elements. This will appear as a border in the stuck state, and will\n   * overlap the top box-shadow of the first row in the non-stuck state.\n   */\n  thead tr th {\n    position: relative;\n  }\n\n  thead tr th::after {\n    content: '';\n    display: block;\n    height: 1px;\n    background-color: ",";\n    position: absolute;\n    bottom: -1px;\n    left: 0;\n    right: 0;\n  }\n"]);return i=function(){return n},n}var a=t(35505).ZP.div.withConfig({componentId:"sc-518cab7f-0"})(i(),function(n){var e=n.$top;return void 0===e?0:e},o.w.White,o.w.KeylineGray)}}]);
//# sourceMappingURL=365.c65b68011f340960.js.map