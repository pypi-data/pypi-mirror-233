(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5185],{59739:function(n,e,t){"use strict";var r=t(56669);function o(){}function i(){}i.resetWarningCache=o,n.exports=function(){function n(n,e,t,o,i,c){if(c!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return n}n.isRequired=n;var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return t.PropTypes=t,t}},47329:function(n,e,t){n.exports=t(59739)()},56669:function(n){"use strict";n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},23192:function(n,e,t){"use strict";t.d(e,{fi:function(){return Y},lG:function(){return U}});var r=t(82394),o=t(75582),i=t(82684),c=t(12691),u=t.n(c),l=t(34376),a=t.n(l),s=t(38626),d=t(69864),p=t(40761),f=t(41143),v=t(71180),h=t(39867),b=t(55485),m=t(48670),g=t(57653),j=t(38276),x=t(75499),O=t(30160),y=t(12468),Z=t(35686),P=t(15135),k=t(11498),_=t(72473),C=t(81655),S=t(70515),T=t(3917),w=t(55283),L=t(86735),I=t(72619),D=t(74052),R=t(69419),E=t(70320),M=t(28598);function N(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function A(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?N(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var U=[0,1,3,4,5],Y={0:"status",1:"block_uuid",3:"created_at",4:"started_at",5:"completed_at"};e.ZP=function(n){var e=n.blockRuns,t=n.onClickRow,r=n.pipeline,c=n.selectedRun,l=n.setErrors,N=n.sortableColumnIndexes,U=(0,E.q)(),Y=(0,i.useContext)(s.ThemeContext),F=(0,i.useState)(null),B=F[0],V=F[1],z=(0,i.useState)(null),G=z[0],H=z[1],Q=r||{},W=Q.uuid,X=Q.type,q=(0,i.useMemo)((function(){return r.blocks||[]}),[r]),J=(0,i.useMemo)((function(){return(0,L.HK)(q,(function(n){return n.uuid}))}),[q]),K=(0,i.useMemo)((function(){return g.qL.INTEGRATION===X}),[X]),$=(0,i.useMemo)((function(){return g.qL.PYTHON===X}),[X]),nn=(0,R.iV)(),en=null===nn||void 0===nn?void 0:nn[C.lG.SORT_COL_IDX],tn=(0,i.useMemo)((function(){return en?{columnIndex:+en,sortDirection:(null===nn||void 0===nn?void 0:nn[C.lG.SORT_DIRECTION])||C.sh.ASC}:void 0}),[nn,en]),rn=(0,i.useMemo)((function(){var n,e;return null===(n=new p.Z)||void 0===n||null===(e=n.decodedToken)||void 0===e?void 0:e.token}),[]),on=(0,d.Db)((function(n){var e=n.blockUUID,t=n.pipelineRunId;return Z.ZP.block_outputs.pipelines.downloads.detailAsync(null===r||void 0===r?void 0:r.uuid,e,{pipeline_run_id:t,token:rn},{onDownloadProgress:function(n){return V((Number((null===n||void 0===n?void 0:n.loaded)||0)/1e6).toFixed(3))},responseType:k.E.BLOB})}),{onSuccess:function(n){return(0,I.wD)(n,{callback:function(n){H(null),(0,D.uS)(n,"block_output.".concat(P.Lu.CSV))},onErrorCallback:function(n,e){return null===l||void 0===l?void 0:l({errors:e,response:n})}})}}),cn=(0,o.Z)(on,2),un=cn[0],ln=cn[1].isLoading,an=U?C.O$:{},sn=[{uuid:"Status"},{uuid:"Block"},{uuid:"Trigger"},A(A({},an),{},{uuid:"Created at"}),A(A({},an),{},{uuid:"Started at"}),A(A({},an),{},{uuid:"Completed at"}),{uuid:"Logs"}];return $&&sn.push({uuid:"Output"}),(0,M.jsx)(x.Z,{columnFlex:[1,2,2,1,1,1,null,null],columns:sn,isSelectedRow:function(n){return e[n].id===(null===c||void 0===c?void 0:c.id)},onClickRow:t,rows:null===e||void 0===e?void 0:e.map((function(n){var e,t,r,o,i=n||{},c=i.block_uuid,l=i.completed_at,s=i.created_at,d=i.id,p=i.pipeline_run_id,g=i.pipeline_schedule_id,x=i.pipeline_schedule_name,Z=i.started_at,P=i.status,k=c,C=k.split(":"),L=G===d&&ln;K&&(k=C[0],r=C[1],o=C[2]);var I=J[k];I||(I=J[C[0]]);var D=[(0,M.jsx)(O.ZP,{danger:f.V.FAILED===P,default:f.V.CANCELLED===P,info:f.V.INITIAL===P,monospace:!0,success:f.V.COMPLETED===P,warning:f.V.RUNNING===P,children:P},"".concat(d,"_status")),(0,M.jsx)(u(),{as:"/pipelines/".concat(W,"/edit?block_uuid=").concat(k),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,M.jsxs)(m.Z,{bold:!0,fitContentWidth:!0,verticalAlignContent:!0,children:[(0,M.jsx)(h.Z,{color:(0,w.qn)(null===(e=I)||void 0===e?void 0:e.type,{blockColor:null===(t=I)||void 0===t?void 0:t.color,theme:Y}).accent,size:1.5*S.iI,square:!0}),(0,M.jsx)(j.Z,{mr:1}),(0,M.jsxs)(O.ZP,{monospace:!0,sky:!0,children:[k,r&&":",r&&(0,M.jsx)(O.ZP,{default:!0,inline:!0,monospace:!0,children:r}),o>=0&&":",o>=0&&(0,M.jsx)(O.ZP,{default:!0,inline:!0,monospace:!0,children:o})]})]})},"".concat(d,"_block_uuid")),(0,M.jsx)(u(),{as:"/pipelines/".concat(W,"/triggers/").concat(g),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,M.jsx)(m.Z,{bold:!0,sky:!0,children:x})},"".concat(d,"_trigger")),(0,M.jsx)(O.ZP,{default:!0,monospace:!0,small:!0,title:s?"UTC: ".concat(s):null,children:U?(0,T.XG)(s,U):(0,T.d$)(s,{includeSeconds:!0})},"".concat(d,"_created_at")),(0,M.jsx)(O.ZP,{default:!0,monospace:!0,small:!0,title:Z?"UTC: ".concat(Z.slice(0,19)):null,children:Z?U?(0,T.XG)(Z,U):(0,T.d$)(Z,{includeSeconds:!0}):(0,M.jsx)(M.Fragment,{children:"\u2014"})},"".concat(d,"_started_at")),(0,M.jsx)(O.ZP,{default:!0,monospace:!0,small:!0,title:l?"UTC: ".concat(l.slice(0,19)):null,children:l?U?(0,T.XG)(l,U):(0,T.d$)(l,{includeSeconds:!0}):(0,M.jsx)(M.Fragment,{children:"\u2014"})},"".concat(d,"_completed_at")),(0,M.jsx)(v.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return a().push("/pipelines/".concat(W,"/logs?block_run_id[]=").concat(d))},children:(0,M.jsx)(_.UL,{default:!0,size:2*S.iI})},"".concat(d,"_logs"))];return $&&D.push((0,M.jsx)(b.ZP,{alignItems:"center",justifyContent:"center",children:(0,M.jsx)(y.Z,{appearBefore:!0,autoHide:!L,block:!0,forceVisible:L,label:L?"".concat(B||0,"mb downloaded..."):"Save block run output as CSV file (not supported for dynamic blocks)",size:null,children:(0,M.jsx)(v.Z,{default:!0,disabled:!$||!(f.V.COMPLETED===P)||ln,iconOnly:!0,loading:L,noBackground:!0,onClick:function(){V(null),H(d),un({blockUUID:k,pipelineRunId:p})},children:(0,M.jsx)(_.vc,{default:!0,size:2*S.iI})})})},"".concat(d,"_save_output"))),D})),sortableColumnIndexes:N,sortedColumn:tn,uuid:"block-runs"})}},74052:function(n,e,t){"use strict";t.d(e,{Dp:function(){return h},OF:function(){return b},Q9:function(){return g},Rt:function(){return p},Rz:function(){return x},h8:function(){return m},k1:function(){return f},uS:function(){return j}});var r=t(21831),o=t(82394),i=t(53808),c=t(3917),u=t(86735),l=t(81728),a=t(70320);function s(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function d(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?s(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function p(n){var e={},t={};return null===n||void 0===n||n.forEach((function(n){var r=n.content,o=n.outputs,i=n.type,c=n.uuid;(null===o||void 0===o?void 0:o.length)>=1&&(e[c]=o.map((function(n){var e=n||{},t=e.sample_data,r=e.shape,o=e.text_data,i=e.type;return t?{data:d({shape:r},t),type:i}:o&&(0,l.Pb)(o)?JSON.parse(o):o}))),t[i]||(t[i]={}),t[i][c]=r})),{content:t,messages:e}}function f(n,e,t){n.forEach((function(n){(0,i.t8)("".concat(t,"/").concat(n.uuid,"/codeCollapsed"),(0,i.Od)("".concat(e,"/").concat(n.uuid,"/codeCollapsed"))),(0,i.t8)("".concat(t,"/").concat(n.uuid,"/outputCollapsed"),(0,i.Od)("".concat(e,"/").concat(n.uuid,"/outputCollapsed")))}))}function v(n){return"".concat(n,"/").concat(i.kP)}function h(n){return(0,i.U2)(v(n),[])}function b(n,e){var t=h(n);t.includes(e)||(0,i.t8)(v(n),[].concat((0,r.Z)(t),[e]))}function m(n,e){var t=h(n).filter((function(n){return n!==e}));(0,i.t8)(v(n),t)}function g(n,e){var t=(0,u.HK)(e,(function(n){return n.uuid}));return n.map((function(n){return t[n]})).filter((function(n){return!!n}))}var j=function(n,e){var t=window.URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download=e,document.body.appendChild(r),r.click(),r.remove()};function x(n,e){var t,r=(0,a.q)(),o=null===e||void 0===e?void 0:e.isPipelineUpdating,i=null===e||void 0===e?void 0:e.pipelineContentTouched,u=null===e||void 0===e?void 0:e.pipelineLastSaved;if(i)t="Unsaved changes";else if(o)t="Saving changes...";else if(u){var l=(0,c.JX)(Number(u)/1e3);null!==n&&void 0!==n&&n.updated_at&&(l=(0,c.XG)(null===n||void 0===n?void 0:n.updated_at,r)),t="Last saved ".concat(l)}else t="All changes saved";return t}},8955:function(n,e,t){"use strict";t.d(e,{G7:function(){return y},ZP:function(){return Z},u$:function(){return j}});var r=t(75582),o=t(82394),i=t(26304),c=t(90299),u=t(9134),l=t(17586),a=t(38276),s=t(30160),d=t(75499),p=t(70515),f=t(16488),v=t(42122),h=t(28598),b=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function m(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function g(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var j=76,x={uuid:"Run details"},O={uuid:"Dependency tree"},y=[O,x];function Z(n){var e=n.height,t=n.heightOffset,o=n.pipeline,m=n.selectedRun,Z=n.selectedTab,P=n.setSelectedTab,k=g({},(0,i.Z)(n,b));m?k.blockStatus=(0,f.IJ)(null===m||void 0===m?void 0:m.block_runs):k.noStatus=!0;var _=(0,v.Kn)(null===m||void 0===m?void 0:m.variables)?g({},null===m||void 0===m?void 0:m.variables):(null===m||void 0===m?void 0:m.variables)||{},C=null===m||void 0===m?void 0:m.event_variables;if(C&&(0,v.Kn)(C)&&!(0,v.Qr)(C))if((0,v.Kn)(_)&&_.hasOwnProperty("event")){var S=(0,v.Kn)(_.event)?_.event:{};_.event=g(g({},S),C)}else _.event=g({},C);var T=[];_&&JSON.stringify(_,null,2).split("\n").forEach((function(n){T.push("    ".concat(n))}));var w=m&&[["Run ID",null===m||void 0===m?void 0:m.id],["Variables",(0,h.jsx)(u.Z,{language:"json",small:!0,source:T.join("\n")},"variable_value")]],L=m&&(0,h.jsx)(a.Z,{pb:p.cd,px:p.cd,children:(0,h.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(n){return 1===n?"100px":null},rows:w.map((function(n,e){var t=(0,r.Z)(n,2),o=t[0],i=t[1];return[(0,h.jsx)(s.ZP,{monospace:!0,muted:!0,children:o},"key_".concat(e)),(0,h.jsx)(s.ZP,{monospace:!0,textOverflow:!0,children:i},"val_".concat(e))]})),uuid:"LogDetail"})}),I=Z&&P;return(0,h.jsxs)(h.Fragment,{children:[I&&(0,h.jsx)(a.Z,{py:p.cd,children:(0,h.jsx)(c.Z,{onClickTab:P,selectedTabUUID:null===Z||void 0===Z?void 0:Z.uuid,tabs:y})}),(!I||O.uuid===(null===Z||void 0===Z?void 0:Z.uuid))&&(0,h.jsx)(l.Z,g(g({},k),{},{height:e,heightOffset:(t||0)+(I?j:0),pipeline:o})),x.uuid===(null===Z||void 0===Z?void 0:Z.uuid)&&L]})}},55072:function(n,e,t){"use strict";t.d(e,{Et:function(){return p},Q:function(){return d}});t(82684);var r=t(71180),o=t(55485),i=t(38276),c=t(31748),u=t(72473),l=t(79633),a=t(70515),s=t(28598),d=30,p=9;e.ZP=function(n){var e=n.page,t=n.maxPages,d=n.onUpdate,p=n.totalPages,f=[],v=t;if(v>p)f=Array.from({length:p},(function(n,e){return e}));else{var h=Math.floor(v/2),b=e-h;e+h>=p?(b=p-v+2,v-=2):e-h<=0?(b=0,v-=2):(v-=4,b=e-Math.floor(v/2)),f=Array.from({length:v},(function(n,e){return e+b}))}return(0,s.jsx)(s.Fragment,{children:p>0&&(0,s.jsxs)(o.ZP,{alignItems:"center",children:[(0,s.jsx)(r.Z,{disabled:0===e,onClick:function(){return d(e-1)},children:(0,s.jsx)(u.Hd,{size:1.5*a.iI,stroke:c.Av})}),!f.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{ml:1,children:(0,s.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!f.includes(1)&&(0,s.jsx)(i.Z,{ml:1,children:(0,s.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),f.map((function(n){return(0,s.jsx)(i.Z,{ml:1,children:(0,s.jsx)(r.Z,{backgroundColor:n===e&&l.a$,borderLess:!0,noBackground:!0,notClickable:n===e,onClick:function(){n!==e&&d(n)},children:n+1})},n)})),!f.includes(p-1)&&(0,s.jsxs)(s.Fragment,{children:[!f.includes(p-2)&&(0,s.jsx)(i.Z,{ml:1,children:(0,s.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(i.Z,{ml:1,children:(0,s.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(p-1)},children:p})},p-1)]}),(0,s.jsx)(i.Z,{ml:1}),(0,s.jsx)(r.Z,{disabled:e===p-1,onClick:function(){return d(e+1)},children:(0,s.jsx)(u.Kw,{size:1.5*a.iI,stroke:c.Av})})]})})}},15135:function(n,e,t){"use strict";t.d(e,{JD:function(){return h},Lu:function(){return i},PF:function(){return p},dT:function(){return c},n6:function(){return a},nB:function(){return v},oy:function(){return f},xF:function(){return d}});var r,o,i,c,u=t(82394),l=t(44425);!function(n){n.CSV="csv",n.JSON="json",n.MD="md",n.PY="py",n.R="r",n.SQL="sql",n.TXT="txt",n.YAML="yaml",n.YML="yml"}(i||(i={})),function(n){n.INIT_PY="__init__.py",n.METADATA_YAML="metadata.yaml",n.REQS_TXT="requirements.txt"}(c||(c={}));var a=[i.PY,i.SQL],s=[i.JSON,i.MD,i.PY,i.R,i.SQL,i.TXT,i.YAML,i.YML],d=new RegExp(s.map((function(n){return".".concat(n,"$")})).join("|")),p=(new RegExp(s.map((function(n){return".".concat(n,"$")})).join("|")),"charts"),f="pipelines",v=(r={},(0,u.Z)(r,i.MD,l.t6.MARKDOWN),(0,u.Z)(r,i.JSON,i.JSON),(0,u.Z)(r,i.PY,l.t6.PYTHON),(0,u.Z)(r,i.R,l.t6.R),(0,u.Z)(r,i.SQL,l.t6.SQL),(0,u.Z)(r,i.TXT,"text"),(0,u.Z)(r,i.YAML,l.t6.YAML),(0,u.Z)(r,i.YML,l.t6.YAML),r),h=(o={},(0,u.Z)(o,l.t6.MARKDOWN,i.MD),(0,u.Z)(o,l.t6.PYTHON,i.PY),(0,u.Z)(o,l.t6.R,i.R),(0,u.Z)(o,l.t6.SQL,i.SQL),(0,u.Z)(o,l.t6.YAML,i.YAML),(0,u.Z)(o,"text",i.TXT),o)},9134:function(n,e,t){"use strict";var r=t(82684),o=t(62369),i=t(68432),c=t(38626),u=t(65292),l=t(44897),a=t(95363),s=t(70515),d=t(28598);e.Z=function(n){var e=n.language,t=n.maxWidth,p=n.showLineNumbers,f=n.small,v=n.source,h=n.wrapLines,b=(0,r.useContext)(c.ThemeContext);function m(n){var r=n.value;return(0,d.jsx)(i.Z,{customStyle:{backgroundColor:(b.background||l.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:a.Vp,fontSize:f?12:14,marginBottom:0,marginTop:0,maxWidth:t,paddingBottom:2*s.iI,paddingTop:2*s.iI},language:e,lineNumberStyle:{color:(b.content||l.Z.content).muted},showLineNumbers:p,style:u._4,useInlineStyles:!0,wrapLines:h,children:r})}return(0,d.jsx)(o.D,{components:{code:function(n){var e=n.children;return(0,d.jsx)(m,{value:e})}},children:v})}},90299:function(n,e,t){"use strict";t.d(e,{Z:function(){return b}});var r=t(82684),o=t(71180),i=t(55485),c=t(64888),u=t(38276),l=t(30160),a=t(8059),s=t(38626),d=t(70515),p=t(47041),f=s.default.div.withConfig({displayName:"indexstyle__TabsContainerStyle",componentId:"sc-segf7l-0"})(["padding-left:","px;padding-right:","px;"," "," ",""],d.cd*d.iI,d.cd*d.iI,(function(n){return n.noPadding&&"\n    padding: 0;\n  "}),(function(n){return n.allowScroll&&"\n    overflow: auto;\n  "}),p.w5),v=t(3314),h=t(28598);var b=function(n){var e=n.allowScroll,t=n.compact,s=n.contained,p=n.noPadding,b=n.onClickTab,m=n.regularSizeText,g=n.selectedTabUUID,j=n.small,x=n.tabs,O=(0,r.useMemo)((function(){var n=x.length,e=[];return x.forEach((function(r,s){var p=r.Icon,f=r.IconSelected,x=r.label,O=r.uuid,y=O===g,Z=y&&f||p,P=x?x():O,k=(0,h.jsxs)(i.ZP,{alignItems:"center",children:[Z&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Z,{default:!y,size:2*d.iI}),(0,h.jsx)(u.Z,{mr:1})]}),(0,h.jsx)(l.ZP,{bold:!0,default:!y,noWrapping:!0,small:!m,children:P})]});s>=1&&n>=2&&e.push((0,h.jsx)("div",{style:{marginLeft:1.5*d.iI}},"spacing-".concat(O))),y?e.push((0,h.jsx)(c.Z,{backgroundGradient:a.yr,backgroundPanel:!0,borderLess:!0,borderWidth:2,compact:t||j,onClick:function(n){(0,v.j)(n),b(r)},paddingUnitsHorizontal:1.75,paddingUnitsVertical:1.25,small:j,children:k},O)):e.push((0,h.jsx)("div",{style:{padding:2},children:(0,h.jsx)(o.Z,{borderLess:!0,compact:t||j,default:!0,onClick:function(n){(0,v.j)(n),b(r)},outline:!0,small:j,children:k})},"button-tab-".concat(O)))})),e}),[t,b,g,j,x]),y=(0,h.jsx)(i.ZP,{alignItems:"center",children:O});return s?y:(0,h.jsx)(f,{allowScroll:e,noPadding:p,children:y})}}}]);