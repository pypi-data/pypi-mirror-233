{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDebouncedValue } from '@mantine/hooks';\nimport { create } from 'zustand';\nexport const usePromptStore = create(set => ({\n  promptHistory: [''],\n  promptIndex: 0,\n  historyUp: () => set(state => ({\n    promptIndex: state.promptIndex + 1\n  })),\n  historyDown: () => set(state => ({\n    promptIndex: state.promptIndex - 1\n  })),\n  getCurrentPrompt: () => {\n    const {\n      promptHistory,\n      promptIndex\n    } = usePromptStore.getState();\n    return promptHistory[promptIndex];\n  },\n  setPrompt: prompt => set(state => ({\n    promptHistory: [...state.promptHistory, prompt],\n    promptIndex: state.promptHistory.length\n  }))\n}));\nexport function useDebouncedPrompt() {\n  _s();\n  const prompt = usePromptStore(state => state.prompt).trim();\n  const [debouncedPrompt] = useDebouncedValue(prompt, 150, {\n    leading: true\n  });\n  return debouncedPrompt;\n}\n_s(useDebouncedPrompt, \"X4qn8ZpkGMRvkHk5aWvkWtvJexM=\", false, function () {\n  return [usePromptStore, useDebouncedValue];\n});","map":{"version":3,"names":["useDebouncedValue","create","usePromptStore","set","promptHistory","promptIndex","historyUp","state","historyDown","getCurrentPrompt","getState","setPrompt","prompt","length","useDebouncedPrompt","_s","trim","debouncedPrompt","leading"],"sources":["/Users/maciel/Projects/aiconsole/web/src/workspace/prompt-store.ts"],"sourcesContent":["import { useDebouncedValue } from '@mantine/hooks';\nimport { create } from 'zustand';\n\ntype PromptStore = {\n  promptHistory: string[];\n  promptIndex: number;\n\n  historyUp: () => void;\n  historyDown: () => void;\n  getCurrentPrompt: () => string;\n  setPrompt: (prompt: string) => void;\n};\n\nexport const usePromptStore = create<PromptStore>((set) => ({\n  promptHistory: [''],\n  promptIndex: 0,\n  historyUp: () => set((state) => ({ promptIndex: state.promptIndex + 1 })),\n  historyDown: () => set((state) => ({ promptIndex: state.promptIndex - 1 })),\n  getCurrentPrompt: () => {\n    const { promptHistory, promptIndex } = usePromptStore.getState<PromptStore>();\n    return promptHistory[promptIndex];\n  },\n\n  setPrompt: (prompt) =>\n    set((state) => ({\n      promptHistory: [...state.promptHistory, prompt],\n      promptIndex: state.promptHistory.length,\n    })),\n  \n}));\n\nexport function useDebouncedPrompt() {\n  const prompt = usePromptStore((state) => state.prompt).trim();\n  const [debouncedPrompt] = useDebouncedValue(prompt, 150, { leading: true });\n\n  return debouncedPrompt;\n}\n"],"mappings":";AAAA,SAASA,iBAAiB,QAAQ,gBAAgB;AAClD,SAASC,MAAM,QAAQ,SAAS;AAYhC,OAAO,MAAMC,cAAc,GAAGD,MAAM,CAAeE,GAAG,KAAM;EAC1DC,aAAa,EAAE,CAAC,EAAE,CAAC;EACnBC,WAAW,EAAE,CAAC;EACdC,SAAS,EAAEA,CAAA,KAAMH,GAAG,CAAEI,KAAK,KAAM;IAAEF,WAAW,EAAEE,KAAK,CAACF,WAAW,GAAG;EAAE,CAAC,CAAC,CAAC;EACzEG,WAAW,EAAEA,CAAA,KAAML,GAAG,CAAEI,KAAK,KAAM;IAAEF,WAAW,EAAEE,KAAK,CAACF,WAAW,GAAG;EAAE,CAAC,CAAC,CAAC;EAC3EI,gBAAgB,EAAEA,CAAA,KAAM;IACtB,MAAM;MAAEL,aAAa;MAAEC;IAAY,CAAC,GAAGH,cAAc,CAACQ,QAAQ,CAAc,CAAC;IAC7E,OAAON,aAAa,CAACC,WAAW,CAAC;EACnC,CAAC;EAEDM,SAAS,EAAGC,MAAM,IAChBT,GAAG,CAAEI,KAAK,KAAM;IACdH,aAAa,EAAE,CAAC,GAAGG,KAAK,CAACH,aAAa,EAAEQ,MAAM,CAAC;IAC/CP,WAAW,EAAEE,KAAK,CAACH,aAAa,CAACS;EACnC,CAAC,CAAC;AAEN,CAAC,CAAC,CAAC;AAEH,OAAO,SAASC,kBAAkBA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAMH,MAAM,GAAGV,cAAc,CAAEK,KAAK,IAAKA,KAAK,CAACK,MAAM,CAAC,CAACI,IAAI,CAAC,CAAC;EAC7D,MAAM,CAACC,eAAe,CAAC,GAAGjB,iBAAiB,CAACY,MAAM,EAAE,GAAG,EAAE;IAAEM,OAAO,EAAE;EAAK,CAAC,CAAC;EAE3E,OAAOD,eAAe;AACxB;AAACF,EAAA,CALeD,kBAAkB;EAAA,QACjBZ,cAAc,EACHF,iBAAiB;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}